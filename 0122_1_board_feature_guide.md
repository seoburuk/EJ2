# ê²Œì‹œíŒ ê¸°ëŠ¥ êµ¬í˜„ ê°€ì´ë“œ (2026-01-22)

## ğŸ“‹ ëª©ì°¨
1. [ê°œìš”](#ê°œìš”)
2. [í•™ìŠµ ëª©í‘œ](#í•™ìŠµ-ëª©í‘œ)
3. [êµ¬í˜„ëœ ê¸°ëŠ¥](#êµ¬í˜„ëœ-ê¸°ëŠ¥)
4. [ì „ì²´ íŒŒì¼ ë³€ê²½ì‚¬í•­](#ì „ì²´-íŒŒì¼-ë³€ê²½ì‚¬í•­)
5. [ë°±ì—”ë“œ êµ¬ì¡°](#ë°±ì—”ë“œ-êµ¬ì¡°)
6. [í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡°](#í”„ë¡ íŠ¸ì—”ë“œ-êµ¬ì¡°)
7. [í•µì‹¬ ê°œë… ì„¤ëª…](#í•µì‹¬-ê°œë…-ì„¤ëª…)
8. [ì½”ë“œ ì‹¤í–‰ ë°©ë²•](#ì½”ë“œ-ì‹¤í–‰-ë°©ë²•)
9. [íŠ¸ëŸ¬ë¸”ìŠˆíŒ…](#íŠ¸ëŸ¬ë¸”ìŠˆíŒ…)

---

## ê°œìš”

ì´ ë¬¸ì„œëŠ” EJ2 í”„ë¡œì íŠ¸ì— **ê²Œì‹œíŒ ì‹œìŠ¤í…œ**ì„ êµ¬í˜„í•œ ë‚´ìš©ì„ ì´ˆë³´ìë„ ì´í•´í•  ìˆ˜ ìˆë„ë¡ ì •ë¦¬í•œ ê°€ì´ë“œì…ë‹ˆë‹¤.

### ì£¼ìš” ë³€ê²½ì‚¬í•­
- ê²Œì‹œíŒ ëª©ë¡ ë° ê²Œì‹œê¸€ CRUD ê¸°ëŠ¥ ì™„ì„±
- ëŒ“ê¸€/ëŒ€ëŒ“ê¸€ ì‹œìŠ¤í…œ êµ¬í˜„
- ì¢‹ì•„ìš” ë° ì¡°íšŒìˆ˜ ê¸°ëŠ¥ ì¶”ê°€
- ì—ë¸Œë¦¬íƒ€ì„ ìŠ¤íƒ€ì¼ UI ì ìš© (2ì—´ ë ˆì´ì•„ì›ƒ)

---

## í•™ìŠµ ëª©í‘œ

ì´ ë¬¸ì„œë¥¼ í†µí•´ ë‹¤ìŒì„ ë°°ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

1. **Spring Frameworkì˜ 3ê³„ì¸µ ì•„í‚¤í…ì²˜** (Controller â†’ Service â†’ Repository)
2. **JPAë¥¼ ì´ìš©í•œ ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™**
3. **React ì»´í¬ë„ŒíŠ¸ ì„¤ê³„ ë° ìƒíƒœ ê´€ë¦¬**
4. **RESTful API ì„¤ê³„ ì›ì¹™**
5. **ê³„ì¸µ êµ¬ì¡° ë°ì´í„° ëª¨ë¸ë§** (ëŒ“ê¸€-ëŒ€ëŒ“ê¸€)
6. **CSS Gridë¥¼ ì´ìš©í•œ ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ**

---

## êµ¬í˜„ëœ ê¸°ëŠ¥

### âœ… ì™„ì„±ëœ ê¸°ëŠ¥ ëª©ë¡

#### ë°±ì—”ë“œ (Java/Spring)
- [x] Board (ê²Œì‹œíŒ) ì—”í‹°í‹° ë° CRUD API
- [x] Post (ê²Œì‹œê¸€) ì—”í‹°í‹° ë° CRUD API
- [x] Comment (ëŒ“ê¸€) ì—”í‹°í‹° ë° CRUD API
- [x] ê²Œì‹œíŒë³„ ê²Œì‹œê¸€ ì¡°íšŒ
- [x] ì¡°íšŒìˆ˜ ì¦ê°€ API
- [x] ì¢‹ì•„ìš” ê¸°ëŠ¥ API
- [x] ëŒ“ê¸€/ëŒ€ëŒ“ê¸€ ê³„ì¸µ êµ¬ì¡°
- [x] Soft Delete (ë…¼ë¦¬ ì‚­ì œ)

#### í”„ë¡ íŠ¸ì—”ë“œ (React)
- [x] ë©”ì¸ í˜ì´ì§€ (2ì—´ ê²Œì‹œíŒ ë ˆì´ì•„ì›ƒ)
- [x] ê²Œì‹œíŒë³„ ê²Œì‹œê¸€ ëª©ë¡ í˜ì´ì§€
- [x] ê²Œì‹œê¸€ ìƒì„¸ í˜ì´ì§€
- [x] ëŒ“ê¸€ ì„¹ì…˜ ì»´í¬ë„ŒíŠ¸
- [x] ê²Œì‹œê¸€ ì‘ì„± í¼
- [x] ë°˜ì‘í˜• ë””ìì¸ (ëª¨ë°”ì¼ ëŒ€ì‘)

---

## ì „ì²´ íŒŒì¼ ë³€ê²½ì‚¬í•­

### ğŸ“ ì‹ ê·œ ìƒì„± íŒŒì¼

#### ë°±ì—”ë“œ (Backend)
```
backend/src/main/java/com/ej2/
â”œâ”€â”€ model/
â”‚   â”œâ”€â”€ Board.java              âœ¨ ìƒˆë¡œ ìƒì„±
â”‚   â”œâ”€â”€ Post.java               âœ¨ ìƒˆë¡œ ìƒì„±
â”‚   â””â”€â”€ Comment.java            âœ¨ ìƒˆë¡œ ìƒì„±
â”œâ”€â”€ repository/
â”‚   â”œâ”€â”€ BoardRepository.java    âœ¨ ìƒˆë¡œ ìƒì„±
â”‚   â”œâ”€â”€ PostRepository.java     âœ¨ ìƒˆë¡œ ìƒì„±
â”‚   â””â”€â”€ CommentRepository.java  âœ¨ ìƒˆë¡œ ìƒì„±
â”œâ”€â”€ service/
â”‚   â”œâ”€â”€ BoardService.java       âœ¨ ìƒˆë¡œ ìƒì„±
â”‚   â”œâ”€â”€ PostService.java        âœ¨ ìƒˆë¡œ ìƒì„±
â”‚   â””â”€â”€ CommentService.java     âœ¨ ìƒˆë¡œ ìƒì„±
â””â”€â”€ controller/
    â”œâ”€â”€ BoardController.java    âœ¨ ìƒˆë¡œ ìƒì„±
    â”œâ”€â”€ PostController.java     âœ¨ ìƒˆë¡œ ìƒì„±
    â””â”€â”€ CommentController.java  âœ¨ ìƒˆë¡œ ìƒì„±
```

#### í”„ë¡ íŠ¸ì—”ë“œ (Frontend)
```
frontend/src/pages/
â”œâ”€â”€ Main/
â”‚   â”œâ”€â”€ MainPage.js             âœ¨ ìƒˆë¡œ ìƒì„±
â”‚   â””â”€â”€ MainPage.css            âœ¨ ìƒˆë¡œ ìƒì„±
â””â”€â”€ Board/
    â”œâ”€â”€ PostListPage.js         âœ¨ ìƒˆë¡œ ìƒì„±
    â”œâ”€â”€ PostListPage.css        âœ¨ ìƒˆë¡œ ìƒì„±
    â”œâ”€â”€ PostDetailPage.js       âœ¨ ìƒˆë¡œ ìƒì„±
    â”œâ”€â”€ PostDetailPage.css      âœ¨ ìƒˆë¡œ ìƒì„±
    â”œâ”€â”€ PostForm.js             âœ¨ ìƒˆë¡œ ìƒì„±
    â”œâ”€â”€ PostForm.css            âœ¨ ìƒˆë¡œ ìƒì„±
    â”œâ”€â”€ CommentSection.js       âœ¨ ìƒˆë¡œ ìƒì„±
    â””â”€â”€ CommentSection.css      âœ¨ ìƒˆë¡œ ìƒì„±
```

---

### ğŸ”§ ìˆ˜ì •ëœ íŒŒì¼

#### 1. PostService.java
**ìœ„ì¹˜**: `backend/src/main/java/com/ej2/service/PostService.java`

**ë³€ê²½ ë‚´ìš©**:
- âŒ **ì œê±°**: `post.setAuthor()` (ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í•„ë“œ)
- âœ… **ì¶”ê°€**: ê²Œì‹œíŒë³„ ê²Œì‹œê¸€ ì¡°íšŒ ê¸°ëŠ¥
- âœ… **ì¶”ê°€**: ì¡°íšŒìˆ˜ ì¦ê°€ ë©”ì„œë“œ
- âœ… **ì¶”ê°€**: ì¢‹ì•„ìš” ì¦ê°€ ë©”ì„œë“œ

```java
// ìˆ˜ì • ì „ (ì˜¤ë¥˜)
public Post updatePost(Long id, Post postDetails) {
    post.setAuthor(postDetails.getAuthor());  // âŒ author í•„ë“œ ì—†ìŒ
}

// ìˆ˜ì • í›„ (ì •ìƒ)
public Post updatePost(Long id, Post postDetails) {
    post.setTitle(postDetails.getTitle());
    post.setContent(postDetails.getContent());
}

// ìƒˆë¡œ ì¶”ê°€ëœ ë©”ì„œë“œ
public List<Post> getPostsByBoardId(Long boardId) {
    return postRepository.findByBoardIdOrderByCreatedAtDesc(boardId);
}

public void incrementViewCount(Long id) {
    Post post = postRepository.findById(id)
        .orElseThrow(() -> new RuntimeException("Post not found"));
    post.setViewCount(post.getViewCount() + 1);
    postRepository.save(post);
}

public void incrementLikeCount(Long id) {
    Post post = postRepository.findById(id)
        .orElseThrow(() -> new RuntimeException("Post not found"));
    post.setLikeCount(post.getLikeCount() + 1);
    postRepository.save(post);
}
```

---

#### 2. PostRepository.java
**ìœ„ì¹˜**: `backend/src/main/java/com/ej2/repository/PostRepository.java`

**ë³€ê²½ ë‚´ìš©**:
- âœ… **ì¶”ê°€**: ê²Œì‹œíŒë³„ ê²Œì‹œê¸€ ì¡°íšŒ ì¿¼ë¦¬ ë©”ì„œë“œ

```java
// ì¶”ê°€ëœ ë©”ì„œë“œ
List<Post> findByBoardIdOrderByCreatedAtDesc(Long boardId);
```

**ìƒì„±ë˜ëŠ” SQL**:
```sql
SELECT * FROM posts
WHERE board_id = ?
ORDER BY created_at DESC;
```

---

#### 3. PostController.java
**ìœ„ì¹˜**: `backend/src/main/java/com/ej2/controller/PostController.java`

**ë³€ê²½ ë‚´ìš©**:
- âœ… **ì¶”ê°€**: ê²Œì‹œíŒë³„ ê²Œì‹œê¸€ ì¡°íšŒ ì—”ë“œí¬ì¸íŠ¸
- âœ… **ì¶”ê°€**: ì¡°íšŒìˆ˜ ì¦ê°€ ì—”ë“œí¬ì¸íŠ¸
- âœ… **ì¶”ê°€**: ì¢‹ì•„ìš” ì¦ê°€ ì—”ë“œí¬ì¸íŠ¸

```java
// GET /api/posts/board/{boardId}
@GetMapping("/board/{boardId}")
public ResponseEntity<List<Post>> getPostsByBoardId(@PathVariable Long boardId) {
    List<Post> posts = postService.getPostsByBoardId(boardId);
    return ResponseEntity.ok(posts);
}

// POST /api/posts/{id}/view
@PostMapping("/{id}/view")
public ResponseEntity<Void> incrementViewCount(@PathVariable Long id) {
    postService.incrementViewCount(id);
    return ResponseEntity.ok().build();
}

// POST /api/posts/{id}/like
@PostMapping("/{id}/like")
public ResponseEntity<Void> incrementLikeCount(@PathVariable Long id) {
    postService.incrementLikeCount(id);
    return ResponseEntity.ok().build();
}
```

---

#### 4. PostListPage.js
**ìœ„ì¹˜**: `frontend/src/pages/Board/PostListPage.js`

**ë³€ê²½ ë‚´ìš©**:
- âŒ **ì œê±°**: TODO ì£¼ì„ ë° ë¶ˆí•„ìš”í•œ ì½”ë“œ

```javascript
// ìˆ˜ì • ì „
// TODO(human): ã‚½ãƒ¼ãƒˆå¤‰æ›´ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„
const handleSortChange = (newSortBy) => {
  // TODO(human): ã“ã“ã«ã‚½ãƒ¼ãƒˆå¤‰æ›´ã®ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¨˜è¿°ã—ã¦ãã ã•ã„
  setSortBy(newSortBy);
  setCurrentPage(0);
};

// ìˆ˜ì • í›„ (ê°„ê²°í•˜ê²Œ)
const handleSortChange = (newSortBy) => {
  setSortBy(newSortBy);
  setCurrentPage(0);
};
```

**í•µì‹¬ ê¸°ëŠ¥**:
- useEffectê°€ sortBy ë³€ê²½ì„ ìë™ ê°ì§€í•˜ì—¬ fetchPosts ì‹¤í–‰
- ë³„ë„ì˜ ì¶”ê°€ ë¡œì§ ë¶ˆí•„ìš”

---

#### 5. PostDetailPage.js
**ìœ„ì¹˜**: `frontend/src/pages/Board/PostDetailPage.js`

**ë³€ê²½ ë‚´ìš©**:
- âœ… **ì¶”ê°€**: CommentSection ì»´í¬ë„ŒíŠ¸ import ë° í†µí•©
- âœ… **ì¶”ê°€**: ì¡°íšŒìˆ˜ ìë™ ì¦ê°€ ê¸°ëŠ¥
- âœ… **ì¶”ê°€**: ê²Œì‹œê¸€ ì¢‹ì•„ìš” ê¸°ëŠ¥

```javascript
// Import ì¶”ê°€
import CommentSection from './CommentSection';

// useEffectì— ì¡°íšŒìˆ˜ ì¦ê°€ ì¶”ê°€
useEffect(() => {
  fetchPost();
  incrementViewCount();  // âœ¨ ìƒˆë¡œ ì¶”ê°€
}, [postId]);

// ì¡°íšŒìˆ˜ ì¦ê°€ í•¨ìˆ˜
const incrementViewCount = async () => {
  try {
    await axios.post(`/ej2/api/posts/${postId}/view`);
  } catch (error) {
    console.error('é–²è¦§æ•°ã®æ›´æ–°ã«å¤±æ•—ã—ã¾ã—ãŸ:', error);
  }
};

// ì¢‹ì•„ìš” í•¨ìˆ˜
const handleLikePost = async () => {
  try {
    await axios.post(`/ej2/api/posts/${postId}/like`);
    fetchPost();  // ì¢‹ì•„ìš” í›„ ë°ì´í„° ìƒˆë¡œê³ ì¹¨
  } catch (error) {
    console.error('ã„ã„ã­ã«å¤±æ•—ã—ã¾ã—ãŸ:', error);
  }
};

// ëŒ“ê¸€ ì„¹ì…˜ í†µí•© (ê¸°ì¡´ ì½”ë“œ ëŒ€ì²´)
<CommentSection
  postId={postId}
  boardId={boardId}
  isAnonymous={board?.isAnonymous || false}
/>
```

**ë³€ê²½ ì „í›„ ë¹„êµ**:
```javascript
// ë³€ê²½ ì „: ì •ì  ëŒ“ê¸€ ì„¹ì…˜
<div className="comments-section">
  <div className="comments-header">
    <h3>ã‚³ãƒ¡ãƒ³ãƒˆ {post.commentCount}</h3>
  </div>
  <div className="no-comments">
    ã¾ã ã‚³ãƒ¡ãƒ³ãƒˆãŒã‚ã‚Šã¾ã›ã‚“ã€‚
  </div>
</div>

// ë³€ê²½ í›„: ë™ì  ëŒ“ê¸€ ì»´í¬ë„ŒíŠ¸
<CommentSection
  postId={postId}
  boardId={boardId}
  isAnonymous={board?.isAnonymous || false}
/>
```

---

#### 6. MainPage.css
**ìœ„ì¹˜**: `frontend/src/pages/Main/MainPage.css`

**ë³€ê²½ ë‚´ìš©**:
- âœ… **ìˆ˜ì •**: ë©”ì¸ í˜ì´ì§€ íŒ¨ë”© ì¦ê°€ (30px â†’ 45px, 80px â†’ 120px)
- âœ… **ìˆ˜ì •**: ê²Œì‹œíŒ ë ˆì´ì•„ì›ƒ 2ì—´ ê·¸ë¦¬ë“œë¡œ ë³€ê²½
- âœ… **ì¶”ê°€**: ë°˜ì‘í˜• ë¯¸ë””ì–´ ì¿¼ë¦¬

```css
/* ìˆ˜ì • ì „ */
.main-page {
  padding: 20px;
}

.boards-content {
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* ìˆ˜ì • í›„ */
.main-page {
  padding: 45px 120px;  /* íŒ¨ë”© 1.5ë°° ì¦ê°€ */
}

.boards-content {
  display: grid;
  grid-template-columns: repeat(2, 1fr);  /* 2ì—´ ê·¸ë¦¬ë“œ */
  gap: 20px;
}

/* ë°˜ì‘í˜•: 900px ì´í•˜ì—ì„œ 1ì—´ë¡œ ì „í™˜ */
@media (max-width: 900px) {
  .boards-content {
    grid-template-columns: 1fr;
  }
}

/* ë°˜ì‘í˜•: 1100px ì´í•˜ì—ì„œ íŒ¨ë”© ì¡°ì • */
@media (max-width: 1100px) {
  .main-page {
    padding: 30px 60px;
  }
}
```

**ë ˆì´ì•„ì›ƒ ë³€í™”**:
```
ë³€ê²½ ì „ (1ì—´):          ë³€ê²½ í›„ (2ì—´):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”
â”‚ ê²Œì‹œíŒ 1    â”‚        â”‚ ê²Œì‹œíŒ1â”‚ê²Œì‹œíŒ2â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”¤
â”‚ ê²Œì‹œíŒ 2    â”‚        â”‚ ê²Œì‹œíŒ3â”‚ê²Œì‹œíŒ4â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜
â”‚ ê²Œì‹œíŒ 3    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ê²Œì‹œíŒ 4    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ğŸ“Š API ì—”ë“œí¬ì¸íŠ¸ ì¶”ê°€

#### ìƒˆë¡œ ì¶”ê°€ëœ REST API

| ë©”ì„œë“œ | ì—”ë“œí¬ì¸íŠ¸ | ì„¤ëª… | ìš”ì²­ ë³¸ë¬¸ |
|--------|-----------|------|----------|
| GET | `/api/boards` | ê²Œì‹œíŒ ëª©ë¡ ì¡°íšŒ | - |
| GET | `/api/boards/{id}` | ê²Œì‹œíŒ ìƒì„¸ ì¡°íšŒ | - |
| POST | `/api/boards` | ê²Œì‹œíŒ ìƒì„± | Board JSON |
| GET | `/api/posts/board/{boardId}` | ê²Œì‹œíŒë³„ ê²Œì‹œê¸€ ëª©ë¡ | - |
| POST | `/api/posts/{id}/view` | ì¡°íšŒìˆ˜ ì¦ê°€ | - |
| POST | `/api/posts/{id}/like` | ì¢‹ì•„ìš” ì¦ê°€ | - |
| GET | `/api/comments/post/{postId}` | ê²Œì‹œê¸€ë³„ ëŒ“ê¸€ ëª©ë¡ | - |
| POST | `/api/comments` | ëŒ“ê¸€ ì‘ì„± | Comment JSON |
| POST | `/api/comments/{id}/like` | ëŒ“ê¸€ ì¢‹ì•„ìš” | - |
| DELETE | `/api/comments/{id}` | ëŒ“ê¸€ ì‚­ì œ (Soft) | - |

---

### ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

#### ìƒˆë¡œ ìƒì„±ë˜ëŠ” í…Œì´ë¸”

**1. boards í…Œì´ë¸”**
```sql
CREATE TABLE boards (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    code VARCHAR(50) NOT NULL UNIQUE,
    description TEXT,
    university_id BIGINT,
    is_anonymous BOOLEAN DEFAULT FALSE,
    require_admin BOOLEAN DEFAULT FALSE,
    created_at DATETIME
);
```

**2. posts í…Œì´ë¸”**
```sql
CREATE TABLE posts (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    board_id BIGINT NOT NULL,
    user_id BIGINT NOT NULL,
    title VARCHAR(255) NOT NULL,
    content TEXT NOT NULL,
    anonymous_id VARCHAR(50),
    view_count INT DEFAULT 0,
    like_count INT DEFAULT 0,
    dislike_count INT DEFAULT 0,
    comment_count INT DEFAULT 0,
    scrap_count INT DEFAULT 0,
    is_notice BOOLEAN DEFAULT FALSE,
    is_blinded BOOLEAN DEFAULT FALSE,
    blind_reason TEXT,
    reported_count INT DEFAULT 0,
    created_at DATETIME,
    updated_at DATETIME,
    FOREIGN KEY (board_id) REFERENCES boards(id)
);
```

**3. comments í…Œì´ë¸”**
```sql
CREATE TABLE comments (
    id BIGINT AUTO_INCREMENT PRIMARY KEY,
    post_id BIGINT NOT NULL,
    user_id BIGINT NOT NULL,
    parent_id BIGINT,
    content TEXT NOT NULL,
    anonymous_id VARCHAR(50),
    like_count INT DEFAULT 0,
    dislike_count INT DEFAULT 0,
    is_deleted BOOLEAN DEFAULT FALSE,
    created_at DATETIME,
    updated_at DATETIME,
    FOREIGN KEY (post_id) REFERENCES posts(id),
    FOREIGN KEY (parent_id) REFERENCES comments(id)
);
```

**ê´€ê³„ë„**:
```
boards (1) â”€â”€â”€â”€â”€< (N) posts (1) â”€â”€â”€â”€â”€< (N) comments
                                              â”‚
                                              â”‚ (self-reference)
                                              â””â”€< parent_id
```

---

### ğŸ¨ UI/UX ê°œì„ ì‚¬í•­

#### 1. ë©”ì¸ í˜ì´ì§€
- **ë ˆì´ì•„ì›ƒ**: 1ì—´ â†’ 2ì—´ ê·¸ë¦¬ë“œ
- **íŒ¨ë”©**: ì¢Œìš° 80px â†’ 120px (ë” ë„“ì€ ì—¬ë°±)
- **ë°˜ì‘í˜•**: 900px ì´í•˜ì—ì„œ 1ì—´ë¡œ ìë™ ì „í™˜

#### 2. ê²Œì‹œê¸€ ëª©ë¡
- **ì •ë ¬**: ìµœì‹ ìˆœ, ì¸ê¸°ìˆœ, ì¡°íšŒìˆœ
- **ê²€ìƒ‰**: ì œëª© ê²€ìƒ‰ ê¸°ëŠ¥
- **í˜ì´ì§€ë„¤ì´ì…˜**: 20ê°œì”© í‘œì‹œ

#### 3. ê²Œì‹œê¸€ ìƒì„¸
- **ì¡°íšŒìˆ˜**: í˜ì´ì§€ ì§„ì… ì‹œ ìë™ ì¦ê°€
- **ì¢‹ì•„ìš”**: í´ë¦­ ì‹œ ì¦‰ì‹œ ë°˜ì˜
- **ëŒ“ê¸€**: ì‹¤ì‹œê°„ ì‘ì„±/ì¡°íšŒ

#### 4. ëŒ“ê¸€ ì‹œìŠ¤í…œ
- **ê³„ì¸µ êµ¬ì¡°**: ëŒ“ê¸€ â†’ ëŒ€ëŒ“ê¸€ (2ë‹¨ê³„)
- **ì¸ë´íŠ¸**: ëŒ€ëŒ“ê¸€ì€ ì™¼ìª½ìœ¼ë¡œ 40px ë“¤ì—¬ì“°ê¸°
- **Soft Delete**: ì‚­ì œ ì‹œ "å‰Šé™¤ã•ã‚ŒãŸã‚³ãƒ¡ãƒ³ãƒˆã§ã™" í‘œì‹œ

---

## ë°±ì—”ë“œ êµ¬ì¡°

### 1. ì—”í‹°í‹° (Entity) - ë°ì´í„° ëª¨ë¸

#### Board.java - ê²Œì‹œíŒ ì—”í‹°í‹°
```
boards í…Œì´ë¸”
â”œâ”€â”€ id (PK)
â”œâ”€â”€ name (ê²Œì‹œíŒ ì´ë¦„)
â”œâ”€â”€ code (ê²Œì‹œíŒ ì½”ë“œ, ê³ ìœ ê°’)
â”œâ”€â”€ description (ì„¤ëª…)
â”œâ”€â”€ is_anonymous (ìµëª… ì—¬ë¶€)
â”œâ”€â”€ require_admin (ê´€ë¦¬ì ì „ìš© ì—¬ë¶€)
â””â”€â”€ created_at (ìƒì„±ì¼ì‹œ)
```

**ì£¼ìš” í•„ë“œ ì„¤ëª…:**
- `code`: ê²Œì‹œíŒì„ êµ¬ë¶„í•˜ëŠ” ê³ ìœ  ì½”ë“œ (ì˜ˆ: GENERAL, ANONYMOUS)
- `isAnonymous`: trueë©´ ì‘ì„±ìê°€ ìµëª…ìœ¼ë¡œ í‘œì‹œë¨

#### Post.java - ê²Œì‹œê¸€ ì—”í‹°í‹°
```
posts í…Œì´ë¸”
â”œâ”€â”€ id (PK)
â”œâ”€â”€ board_id (FK â†’ boards)
â”œâ”€â”€ user_id (ì‘ì„±ì ID)
â”œâ”€â”€ title (ì œëª©)
â”œâ”€â”€ content (ë‚´ìš©)
â”œâ”€â”€ anonymous_id (ìµëª… ID)
â”œâ”€â”€ view_count (ì¡°íšŒìˆ˜)
â”œâ”€â”€ like_count (ì¢‹ì•„ìš” ìˆ˜)
â”œâ”€â”€ dislike_count (ì‹«ì–´ìš” ìˆ˜)
â”œâ”€â”€ comment_count (ëŒ“ê¸€ ìˆ˜)
â”œâ”€â”€ is_notice (ê³µì§€ ì—¬ë¶€)
â”œâ”€â”€ is_blinded (ë¸”ë¼ì¸ë“œ ì—¬ë¶€)
â”œâ”€â”€ created_at (ì‘ì„±ì¼ì‹œ)
â””â”€â”€ updated_at (ìˆ˜ì •ì¼ì‹œ)
```

**ì£¼ìš” ê¸°ëŠ¥:**
- `@PrePersist`: ì—”í‹°í‹° ì €ì¥ ì „ì— ìë™ìœ¼ë¡œ `createdAt` ì„¤ì •
- `@PreUpdate`: ì—”í‹°í‹° ìˆ˜ì • ì „ì— ìë™ìœ¼ë¡œ `updatedAt` ì„¤ì •

#### Comment.java - ëŒ“ê¸€ ì—”í‹°í‹°
```
comments í…Œì´ë¸”
â”œâ”€â”€ id (PK)
â”œâ”€â”€ post_id (FK â†’ posts)
â”œâ”€â”€ user_id (ì‘ì„±ì ID)
â”œâ”€â”€ parent_id (FK â†’ comments, ëŒ€ëŒ“ê¸€ìš©)
â”œâ”€â”€ content (ë‚´ìš©)
â”œâ”€â”€ anonymous_id (ìµëª… ID)
â”œâ”€â”€ like_count (ì¢‹ì•„ìš” ìˆ˜)
â”œâ”€â”€ is_deleted (ì‚­ì œ ì—¬ë¶€)
â”œâ”€â”€ created_at (ì‘ì„±ì¼ì‹œ)
â””â”€â”€ updated_at (ìˆ˜ì •ì¼ì‹œ)
```

**ê³„ì¸µ êµ¬ì¡° ì„¤ëª…:**
- `parent_id`ê°€ `null`: ìµœìƒìœ„ ëŒ“ê¸€
- `parent_id`ì— ê°’ì´ ìˆìŒ: ëŒ€ëŒ“ê¸€ (í•´ë‹¹ ëŒ“ê¸€ì˜ ë‹µê¸€)

---

### 2. ë¦¬í¬ì§€í† ë¦¬ (Repository) - ë°ì´í„° ì ‘ê·¼ ê³„ì¸µ

Spring Data JPAë¥¼ ì‚¬ìš©í•˜ë©´ **ì¸í„°í˜ì´ìŠ¤ë§Œ ì •ì˜**í•˜ë©´ ìë™ìœ¼ë¡œ êµ¬í˜„ë©ë‹ˆë‹¤.

#### PostRepository.java ì˜ˆì‹œ
```java
public interface PostRepository extends JpaRepository<Post, Long> {
    // ë©”ì„œë“œ ì´ë¦„ìœ¼ë¡œ ì¿¼ë¦¬ ìë™ ìƒì„±
    List<Post> findAllByOrderByCreatedAtDesc();
    List<Post> findByTitleContaining(String keyword);
    List<Post> findByBoardIdOrderByCreatedAtDesc(Long boardId);
}
```

**ëª…ëª… ê·œì¹™:**
- `findBy`: SELECT ì¿¼ë¦¬
- `OrderBy`: ì •ë ¬
- `Containing`: LIKE ê²€ìƒ‰
- `Desc`: ë‚´ë¦¼ì°¨ìˆœ

**ì‹¤ì œ ìƒì„±ë˜ëŠ” SQL ì˜ˆì‹œ:**
```sql
-- findByBoardIdOrderByCreatedAtDesc(1L)
SELECT * FROM posts
WHERE board_id = 1
ORDER BY created_at DESC;
```

---

### 3. ì„œë¹„ìŠ¤ (Service) - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê³„ì¸µ

#### PostService.java ì£¼ìš” ë©”ì„œë“œ

```java
@Service
@Transactional  // íŠ¸ëœì­ì…˜ ê´€ë¦¬
public class PostService {

    @Autowired
    private PostRepository postRepository;

    // ê²Œì‹œê¸€ ìƒì„±
    public Post createPost(Post post) {
        return postRepository.save(post);
    }

    // ì¡°íšŒìˆ˜ ì¦ê°€
    public void incrementViewCount(Long id) {
        Post post = postRepository.findById(id)
            .orElseThrow(() -> new RuntimeException("Post not found"));
        post.setViewCount(post.getViewCount() + 1);
        postRepository.save(post);
    }
}
```

**í•µì‹¬ ê°œë…:**
- `@Transactional`: ë©”ì„œë“œ ì‹¤í–‰ ì¤‘ ì˜¤ë¥˜ ë°œìƒ ì‹œ ìë™ìœ¼ë¡œ ë¡¤ë°±
- `orElseThrow()`: Optionalì—ì„œ ê°’ì´ ì—†ìœ¼ë©´ ì˜ˆì™¸ ë°œìƒ

---

### 4. ì»¨íŠ¸ë¡¤ëŸ¬ (Controller) - API ì—”ë“œí¬ì¸íŠ¸

#### PostController.java ì˜ˆì‹œ

```java
@RestController
@RequestMapping("/api/posts")
@CrossOrigin(origins = "http://localhost:3000")
public class PostController {

    @Autowired
    private PostService postService;

    // GET /api/posts/board/{boardId}
    @GetMapping("/board/{boardId}")
    public ResponseEntity<List<Post>> getPostsByBoardId(
        @PathVariable Long boardId
    ) {
        List<Post> posts = postService.getPostsByBoardId(boardId);
        return ResponseEntity.ok(posts);
    }

    // POST /api/posts/{id}/like
    @PostMapping("/{id}/like")
    public ResponseEntity<Void> incrementLikeCount(
        @PathVariable Long id
    ) {
        postService.incrementLikeCount(id);
        return ResponseEntity.ok().build();
    }
}
```

**ì–´ë…¸í…Œì´ì…˜ ì„¤ëª…:**
- `@RestController`: JSON ì‘ë‹µ ìë™ ë³€í™˜
- `@RequestMapping`: ê¸°ë³¸ URL ê²½ë¡œ ì„¤ì •
- `@GetMapping`: HTTP GET ìš”ì²­ ì²˜ë¦¬
- `@PostMapping`: HTTP POST ìš”ì²­ ì²˜ë¦¬
- `@PathVariable`: URL ê²½ë¡œì˜ ë³€ìˆ˜ ì¶”ì¶œ
- `@CrossOrigin`: CORS í—ˆìš© (í”„ë¡ íŠ¸ì—”ë“œì™€ í†µì‹ )

---

## í”„ë¡ íŠ¸ì—”ë“œ êµ¬ì¡°

### 1. í˜ì´ì§€ êµ¬ì¡°

```
frontend/src/pages/
â”œâ”€â”€ Main/
â”‚   â”œâ”€â”€ MainPage.js          # ë©”ì¸ í™”ë©´ (ê²Œì‹œíŒ 2ì—´ ë ˆì´ì•„ì›ƒ)
â”‚   â””â”€â”€ MainPage.css
â”œâ”€â”€ Board/
â”‚   â”œâ”€â”€ PostListPage.js      # ê²Œì‹œê¸€ ëª©ë¡
â”‚   â”œâ”€â”€ PostListPage.css
â”‚   â”œâ”€â”€ PostDetailPage.js    # ê²Œì‹œê¸€ ìƒì„¸
â”‚   â”œâ”€â”€ PostDetailPage.css
â”‚   â”œâ”€â”€ PostForm.js          # ê²Œì‹œê¸€ ì‘ì„± í¼
â”‚   â”œâ”€â”€ PostForm.css
â”‚   â”œâ”€â”€ CommentSection.js    # ëŒ“ê¸€ ì„¹ì…˜
â”‚   â””â”€â”€ CommentSection.css
```

---

### 2. React ì»´í¬ë„ŒíŠ¸ ë¶„ì„

#### MainPage.js - ë©”ì¸ í™”ë©´

**ì£¼ìš” ê¸°ëŠ¥:**
1. ê²Œì‹œíŒ ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°
2. ê° ê²Œì‹œíŒì˜ ìµœì‹  ê²Œì‹œê¸€ 5ê°œ í‘œì‹œ
3. ì¸ê¸° ê²Œì‹œê¸€ TOP 10 ì‚¬ì´ë“œë°” í‘œì‹œ

**í•µì‹¬ ì½”ë“œ:**
```javascript
const [boards, setBoards] = useState([]);
const [boardPosts, setBoardPosts] = useState({});

// ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
const fetchBoardsAndPosts = async () => {
  const boardsResponse = await axios.get('/ej2/api/boards');
  const boardsData = boardsResponse.data;
  setBoards(boardsData);

  // ê° ê²Œì‹œíŒì˜ ê²Œì‹œê¸€ ê°€ì ¸ì˜¤ê¸°
  for (const board of boardsData) {
    const postsResponse = await axios.get(
      `/ej2/api/posts/board/${board.id}`
    );
    postsData[board.id] = postsResponse.data;
  }
};
```

**useState ì„¤ëª…:**
- `useState([])`: ë¹ˆ ë°°ì—´ë¡œ ì´ˆê¸°í™”ëœ ìƒíƒœ ë³€ìˆ˜
- `setBoards(data)`: ìƒíƒœ ì—…ë°ì´íŠ¸ â†’ í™”ë©´ ìë™ ë¦¬ë Œë”ë§

---

#### PostListPage.js - ê²Œì‹œê¸€ ëª©ë¡

**ì£¼ìš” ê¸°ëŠ¥:**
1. ê²Œì‹œíŒë³„ ê²Œì‹œê¸€ ëª©ë¡ í‘œì‹œ
2. ì •ë ¬ ê¸°ëŠ¥ (ìµœì‹ ìˆœ, ì¸ê¸°ìˆœ, ì¡°íšŒìˆœ)
3. ê²€ìƒ‰ ê¸°ëŠ¥
4. í˜ì´ì§€ë„¤ì´ì…˜

**ìƒíƒœ ê´€ë¦¬:**
```javascript
const [posts, setPosts] = useState([]);
const [currentPage, setCurrentPage] = useState(0);
const [sortBy, setSortBy] = useState('recent');
const [searchKeyword, setSearchKeyword] = useState('');
```

**useEffect í™œìš©:**
```javascript
// sortByë‚˜ currentPageê°€ ë³€ê²½ë˜ë©´ ìë™ìœ¼ë¡œ ê²Œì‹œê¸€ ë‹¤ì‹œ ë¡œë“œ
useEffect(() => {
  fetchPosts();
}, [boardId, currentPage, sortBy]);
```

---

#### PostDetailPage.js - ê²Œì‹œê¸€ ìƒì„¸

**ì£¼ìš” ê¸°ëŠ¥:**
1. ê²Œì‹œê¸€ ìƒì„¸ ë‚´ìš© í‘œì‹œ
2. ì¡°íšŒìˆ˜ ìë™ ì¦ê°€
3. ì¢‹ì•„ìš” ë²„íŠ¼
4. ëŒ“ê¸€ ì„¹ì…˜ í†µí•©

**ì¡°íšŒìˆ˜ ì¦ê°€ ë¡œì§:**
```javascript
useEffect(() => {
  fetchPost();
  incrementViewCount();  // í˜ì´ì§€ ì§„ì… ì‹œ ì¡°íšŒìˆ˜ +1
}, [postId]);

const incrementViewCount = async () => {
  await axios.post(`/ej2/api/posts/${postId}/view`);
};
```

---

#### CommentSection.js - ëŒ“ê¸€ ì»´í¬ë„ŒíŠ¸

**ì£¼ìš” ê¸°ëŠ¥:**
1. ëŒ“ê¸€ ëª©ë¡ í‘œì‹œ
2. ëŒ“ê¸€ ì‘ì„±
3. ëŒ€ëŒ“ê¸€ (ë‹µê¸€) ì‘ì„±
4. ëŒ“ê¸€ ì¢‹ì•„ìš”
5. ëŒ“ê¸€ ì‚­ì œ

**ê³„ì¸µ êµ¬ì¡° ì²˜ë¦¬:**
```javascript
// ìµœìƒìœ„ ëŒ“ê¸€ë§Œ í•„í„°ë§
const topLevelComments = comments.filter(c => !c.parentId);

// íŠ¹ì • ëŒ“ê¸€ì˜ ë‹µê¸€ ê°€ì ¸ì˜¤ê¸°
const getReplies = (parentId) =>
  comments.filter(c => c.parentId === parentId);

// ë Œë”ë§
topLevelComments.map(comment => (
  <div>
    {comment.content}
    {getReplies(comment.id).map(reply => (
      <div className="reply">{reply.content}</div>
    ))}
  </div>
))
```

---

### 3. CSS Grid ë ˆì´ì•„ì›ƒ

#### ë©”ì¸ í˜ì´ì§€ 2ì—´ ë ˆì´ì•„ì›ƒ

```css
/* ê²Œì‹œíŒ ì„¹ì…˜ì„ 2ì—´ë¡œ ë°°ì¹˜ */
.boards-content {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
}

/* ë°˜ì‘í˜•: 900px ì´í•˜ì—ì„œ 1ì—´ë¡œ ì „í™˜ */
@media (max-width: 900px) {
  .boards-content {
    grid-template-columns: 1fr;
  }
}
```

**í•µì‹¬ ê°œë…:**
- `grid-template-columns: repeat(2, 1fr)`: ë™ì¼í•œ ë„ˆë¹„ì˜ 2ê°œ ì—´
- `1fr`: ì‚¬ìš© ê°€ëŠ¥í•œ ê³µê°„ì„ ê· ë“± ë¶„í• 
- `gap`: ê·¸ë¦¬ë“œ ì•„ì´í…œ ê°„ ê°„ê²©

---

## í•µì‹¬ ê°œë… ì„¤ëª…

### 1. RESTful API ì„¤ê³„

**REST ì›ì¹™:**
- ë¦¬ì†ŒìŠ¤ë¥¼ URLë¡œ í‘œí˜„
- HTTP ë©”ì„œë“œë¡œ í–‰ìœ„ í‘œí˜„
- ìƒíƒœ ì—†ëŠ”(Stateless) í†µì‹ 

**ì˜ˆì‹œ:**
```
GET    /api/boards              â†’ ê²Œì‹œíŒ ëª©ë¡ ì¡°íšŒ
GET    /api/boards/1            â†’ 1ë²ˆ ê²Œì‹œíŒ ì¡°íšŒ
POST   /api/boards              â†’ ìƒˆ ê²Œì‹œíŒ ìƒì„±
PUT    /api/boards/1            â†’ 1ë²ˆ ê²Œì‹œíŒ ìˆ˜ì •
DELETE /api/boards/1            â†’ 1ë²ˆ ê²Œì‹œíŒ ì‚­ì œ

GET    /api/posts/board/1       â†’ 1ë²ˆ ê²Œì‹œíŒì˜ ê²Œì‹œê¸€ ëª©ë¡
POST   /api/posts/1/like        â†’ 1ë²ˆ ê²Œì‹œê¸€ ì¢‹ì•„ìš”
POST   /api/posts/1/view        â†’ 1ë²ˆ ê²Œì‹œê¸€ ì¡°íšŒìˆ˜ ì¦ê°€
```

---

### 2. JPA ì–´ë…¸í…Œì´ì…˜

#### @Entity
- ì´ í´ë˜ìŠ¤ê°€ ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ê³¼ ë§¤í•‘ë¨ì„ í‘œì‹œ
- í´ë˜ìŠ¤ ì´ë¦„ = í…Œì´ë¸” ì´ë¦„ (ê¸°ë³¸ê°’)

#### @Table(name = "posts")
- í…Œì´ë¸” ì´ë¦„ ì§ì ‘ ì§€ì •

#### @Id
- ê¸°ë³¸ í‚¤(Primary Key)

#### @GeneratedValue(strategy = GenerationType.IDENTITY)
- ìë™ ì¦ê°€(Auto Increment)

#### @Column
- ì»¬ëŸ¼ ì†ì„± ì§€ì •
```java
@Column(nullable = false)        // NOT NULL
@Column(unique = true)           // UNIQUE
@Column(columnDefinition = "TEXT") // íƒ€ì… ì§€ì •
@Column(name = "user_id")        // ì»¬ëŸ¼ëª… ì§€ì •
```

#### @PrePersist / @PreUpdate
- ì—”í‹°í‹° ì €ì¥/ìˆ˜ì • ì „ì— ìë™ ì‹¤í–‰ë˜ëŠ” ë©”ì„œë“œ

---

### 3. Spring Data JPA ì¿¼ë¦¬ ë©”ì„œë“œ

**ë©”ì„œë“œ ì´ë¦„ìœ¼ë¡œ ì¿¼ë¦¬ ìë™ ìƒì„±:**

```java
// SELECT * FROM posts WHERE board_id = ?
findByBoardId(Long boardId)

// SELECT * FROM posts WHERE board_id = ? ORDER BY created_at DESC
findByBoardIdOrderByCreatedAtDesc(Long boardId)

// SELECT * FROM posts WHERE title LIKE %?%
findByTitleContaining(String keyword)

// SELECT COUNT(*) FROM comments WHERE post_id = ?
countByPostId(Long postId)
```

---

### 4. React Hooks

#### useState
- ì»´í¬ë„ŒíŠ¸ì˜ ìƒíƒœ ê´€ë¦¬
```javascript
const [count, setCount] = useState(0);
setCount(count + 1);  // ìƒíƒœ ì—…ë°ì´íŠ¸ â†’ ë¦¬ë Œë”ë§
```

#### useEffect
- ì‚¬ì´ë“œ ì´í™íŠ¸ ì²˜ë¦¬ (API í˜¸ì¶œ, ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë“±)
```javascript
// ì»´í¬ë„ŒíŠ¸ ë§ˆìš´íŠ¸ ì‹œ 1íšŒ ì‹¤í–‰
useEffect(() => {
  fetchData();
}, []);

// postId ë³€ê²½ë  ë•Œë§ˆë‹¤ ì‹¤í–‰
useEffect(() => {
  fetchPost();
}, [postId]);
```

#### useNavigate
- í”„ë¡œê·¸ë˜ë° ë°©ì‹ í˜ì´ì§€ ì´ë™
```javascript
const navigate = useNavigate();
navigate('/boards/1/posts');
navigate('/boards/1/posts/5', { state: { board } });
```

#### useParams
- URL íŒŒë¼ë¯¸í„° ì¶”ì¶œ
```javascript
// URL: /boards/1/posts/5
const { boardId, postId } = useParams();
// boardId = "1", postId = "5"
```

---

### 5. Soft Delete (ë…¼ë¦¬ ì‚­ì œ)

**ê°œë…:**
- ì‹¤ì œë¡œ ë°ì´í„°ë¥¼ ì‚­ì œí•˜ì§€ ì•Šê³  í”Œë˜ê·¸ë§Œ ë³€ê²½
- ë°ì´í„° ë³µêµ¬ ê°€ëŠ¥
- ê´€ê³„ ìœ ì§€ (ëŒ“ê¸€ íŠ¸ë¦¬ êµ¬ì¡°)

**êµ¬í˜„:**
```java
public void deleteComment(Long id) {
    Comment comment = commentRepository.findById(id)
        .orElseThrow(() -> new RuntimeException("Not found"));

    // ì‹¤ì œ ì‚­ì œ X
    comment.setIsDeleted(true);
    comment.setContent("å‰Šé™¤ã•ã‚ŒãŸã‚³ãƒ¡ãƒ³ãƒˆã§ã™ã€‚");
    commentRepository.save(comment);
}
```

---

### 6. ê³„ì¸µ êµ¬ì¡° ë°ì´í„° ëª¨ë¸ë§

**Self-Referencing (ìê¸° ì°¸ì¡°) ê´€ê³„:**

```
ëŒ“ê¸€ í…Œì´ë¸”
id | parent_id | content
1  | null      | "ì¢‹ì€ ê¸€ì´ë„¤ìš”"         â† ìµœìƒìœ„ ëŒ“ê¸€
2  | 1         | "ê°ì‚¬í•©ë‹ˆë‹¤"            â† 1ë²ˆì˜ ë‹µê¸€
3  | 1         | "ì €ë„ ê·¸ë ‡ê²Œ ìƒê°í•´ìš”"  â† 1ë²ˆì˜ ë‹µê¸€
4  | null      | "ê¶ê¸ˆí•œ ì ì´ ìˆì–´ìš”"    â† ìµœìƒìœ„ ëŒ“ê¸€
5  | 4         | "ë¬´ì—‡ì´ ê¶ê¸ˆí•˜ì‹ ê°€ìš”?"  â† 4ë²ˆì˜ ë‹µê¸€
```

**ì¡°íšŒ ë¡œì§:**
```java
// ìµœìƒìœ„ ëŒ“ê¸€ë§Œ ì¡°íšŒ
findByPostIdAndParentIdIsNullOrderByCreatedAtAsc(Long postId)

// íŠ¹ì • ëŒ“ê¸€ì˜ ë‹µê¸€ ì¡°íšŒ
findByParentIdOrderByCreatedAtAsc(Long parentId)
```

---

## ì½”ë“œ ì‹¤í–‰ ë°©ë²•

### 1. ì‚¬ì „ ì¤€ë¹„

**í•„ìš”í•œ ì†Œí”„íŠ¸ì›¨ì–´:**
- Java 8
- Maven
- Node.js & npm
- MariaDB 10.6
- Apache Tomcat 9

---

### 2. Docker Composeë¡œ ì‹¤í–‰ (ê¶Œì¥)

```bash
# í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ
docker-compose up --build

# ì ‘ì†
# í”„ë¡ íŠ¸ì—”ë“œ: http://localhost:3000
# ë°±ì—”ë“œ: http://localhost:8080/ej2/api
```

---

### 3. ë¡œì»¬ ê°œë°œ í™˜ê²½ ì‹¤í–‰

#### ë°±ì—”ë“œ ì‹¤í–‰

```bash
cd backend

# Maven ë¹Œë“œ
mvn clean package

# WAR íŒŒì¼ ìƒì„± í™•ì¸
ls target/ej2.war

# Tomcatì— ë°°í¬
cp target/ej2.war $TOMCAT_HOME/webapps/

# Tomcat ì‹œì‘
$TOMCAT_HOME/bin/startup.sh

# ë¡œê·¸ í™•ì¸
tail -f $TOMCAT_HOME/logs/catalina.out
```

#### í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰

```bash
cd frontend

# ì˜ì¡´ì„± ì„¤ì¹˜ (ìµœì´ˆ 1íšŒ)
npm install

# ê°œë°œ ì„œë²„ ì‹œì‘
npm start

# ë¸Œë¼ìš°ì € ìë™ ì—´ë¦¼: http://localhost:3000
```

---

### 4. API í…ŒìŠ¤íŠ¸

**curl ëª…ë ¹ì–´:**

```bash
# ê²Œì‹œíŒ ëª©ë¡ ì¡°íšŒ
curl http://localhost:8080/ej2/api/boards

# ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒ
curl http://localhost:8080/ej2/api/posts/board/1

# ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ
curl http://localhost:8080/ej2/api/posts/1

# ëŒ“ê¸€ ëª©ë¡ ì¡°íšŒ
curl http://localhost:8080/ej2/api/comments/post/1

# ê²Œì‹œê¸€ ìƒì„±
curl -X POST http://localhost:8080/ej2/api/posts \
  -H "Content-Type: application/json" \
  -d '{
    "boardId": 1,
    "userId": 1,
    "title": "ãƒ†ã‚¹ãƒˆæŠ•ç¨¿",
    "content": "ã“ã‚Œã¯ãƒ†ã‚¹ãƒˆã§ã™ã€‚"
  }'

# ì¢‹ì•„ìš”
curl -X POST http://localhost:8080/ej2/api/posts/1/like
```

---

## íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ë¬¸ì œ 1: CORS ì—ëŸ¬

**ì¦ìƒ:**
```
Access to XMLHttpRequest has been blocked by CORS policy
```

**ì›ì¸:**
- ë°±ì—”ë“œì™€ í”„ë¡ íŠ¸ì—”ë“œì˜ ë„ë©”ì¸ì´ ë‹¤ë¦„
- ë¸Œë¼ìš°ì € ë³´ì•ˆ ì •ì±…

**í•´ê²°:**
```java
// Controllerì— ì¶”ê°€
@CrossOrigin(origins = "http://localhost:3000")
```

---

### ë¬¸ì œ 2: 404 Not Found (API í˜¸ì¶œ ì‹¤íŒ¨)

**í™•ì¸ ì‚¬í•­:**
1. Tomcatì´ ì •ìƒ ì‹¤í–‰ ì¤‘ì¸ê°€?
2. WAR íŒŒì¼ì´ ë°°í¬ë˜ì—ˆëŠ”ê°€?
3. URLì´ ì •í™•í•œê°€? (`/ej2/api/...`)

**ë¡œê·¸ í™•ì¸:**
```bash
tail -f $TOMCAT_HOME/logs/catalina.out
```

---

### ë¬¸ì œ 3: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨

**ì¦ìƒ:**
```
Could not open JPA EntityManager for transaction
```

**í™•ì¸ ì‚¬í•­:**
1. MariaDBê°€ ì‹¤í–‰ ì¤‘ì¸ê°€?
```bash
docker ps | grep mariadb
```

2. ì—°ê²° ì •ë³´ê°€ ì •í™•í•œê°€?
```java
// RootConfig.java
dataSource.setJdbcUrl("jdbc:mariadb://localhost:3306/appdb");
dataSource.setUsername("appuser");
dataSource.setPassword("apppassword");
```

---

### ë¬¸ì œ 4: í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ ì—ëŸ¬

**ì¦ìƒ:**
```
Module not found: Can't resolve './CommentSection'
```

**í•´ê²°:**
1. íŒŒì¼ ê²½ë¡œ í™•ì¸
2. import ë¬¸ í™•ì¸
3. íŒŒì¼ ì´ë¦„ ëŒ€ì†Œë¬¸ì í™•ì¸

---

### ë¬¸ì œ 5: Java ë²„ì „ ë¶ˆì¼ì¹˜

**ì¦ìƒ:**
```
Unsupported class file major version
```

**í•´ê²°:**
```bash
# Java ë²„ì „ í™•ì¸
java -version

# Java 8 ì‚¬ìš©
export JAVA_HOME=/path/to/java8
```

---

## ë‹¤ìŒ ë‹¨ê³„

### ì¶”ê°€ í•™ìŠµ ì£¼ì œ
1. **ì¸ì¦/ì¸ê°€**: Spring Security ì ìš©
2. **íŒŒì¼ ì—…ë¡œë“œ**: ê²Œì‹œê¸€ì— ì´ë¯¸ì§€ ì²¨ë¶€
3. **ê²€ìƒ‰ ìµœì í™”**: Elasticsearch ì—°ë™
4. **ì‹¤ì‹œê°„ ì•Œë¦¼**: WebSocket êµ¬í˜„
5. **ì„±ëŠ¥ ìµœì í™”**: ìºì‹± (Redis)

### ê°œì„  ì•„ì´ë””ì–´
- [ ] ê²Œì‹œê¸€ ìŠ¤í¬ë© ê¸°ëŠ¥
- [ ] ì‹ ê³  ê¸°ëŠ¥
- [ ] ê´€ë¦¬ì í˜ì´ì§€
- [ ] ì´ë©”ì¼ ì•Œë¦¼
- [ ] ë§ˆí¬ë‹¤ìš´ ì—ë””í„°

---

## ì°¸ê³  ìë£Œ

### ê³µì‹ ë¬¸ì„œ
- [Spring Framework](https://spring.io/projects/spring-framework)
- [Spring Data JPA](https://spring.io/projects/spring-data-jpa)
- [React ê³µì‹ ë¬¸ì„œ](https://react.dev/)
- [Axios](https://axios-http.com/)

### ì¶”ì²œ í•™ìŠµ ìë£Œ
- [ë°±ê¸°ì„ ì˜ Spring ì™„ì „ ì •ë³µ](https://www.inflearn.com/roadmaps/373)
- [ìƒí™œì½”ë”© - React](https://opentutorials.org/module/4058)
- [TCP School - SQL](http://www.tcpschool.com/mysql/intro)

---

## ê²°ë¡ 

ì´ ë¬¸ì„œë¥¼ í†µí•´ ë‹¤ìŒì„ ë°°ì› ìŠµë‹ˆë‹¤:

1. âœ… **Spring 3ê³„ì¸µ ì•„í‚¤í…ì²˜** ì´í•´
2. âœ… **JPA ì—”í‹°í‹° ì„¤ê³„** ë° ê´€ê³„ ë§¤í•‘
3. âœ… **RESTful API** ì„¤ê³„ ë° êµ¬í˜„
4. âœ… **React Hooks** í™œìš©í•œ ìƒíƒœ ê´€ë¦¬
5. âœ… **ê³„ì¸µ êµ¬ì¡° ë°ì´í„°** ëª¨ë¸ë§
6. âœ… **CSS Grid** ë ˆì´ì•„ì›ƒ

ê²Œì‹œíŒ ì‹œìŠ¤í…œì€ ì›¹ ê°œë°œì˜ í•µì‹¬ ê¸°ëŠ¥ì„ ëª¨ë‘ í¬í•¨í•˜ê³  ìˆì–´, ì´ë¥¼ ë§ˆìŠ¤í„°í•˜ë©´ ëŒ€ë¶€ë¶„ì˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ê°œë°œí•  ìˆ˜ ìˆëŠ” ê¸°ì´ˆê°€ ì™„ì„±ë©ë‹ˆë‹¤.

**ë‹¤ìŒ ìŠ¤í…**: ì‹¤ì œë¡œ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê³ , ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ë©° í•™ìŠµì„ ì´ì–´ê°€ì„¸ìš”! ğŸš€

---

**ì‘ì„±ì¼**: 2026-01-22
**ì‘ì„±ì**: Claude AI
**ë²„ì „**: 1.0
