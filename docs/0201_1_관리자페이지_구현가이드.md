# ê´€ë¦¬ì í˜ì´ì§€ êµ¬í˜„ ê°€ì´ë“œ

> ì‘ì„±ì¼: 2026-02-01
> ì£¼ì œ: MyBatisë¥¼ í™œìš©í•œ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œ ë° ê´€ë¦¬ ê¸°ëŠ¥ êµ¬í˜„

---

## 1. ê°œìš”

### 1.1 ì´ ë¬¸ì„œëŠ” ë¬´ì—‡ì¸ê°€ìš”?

ì´ ë¬¸ì„œëŠ” EJ2 í”„ë¡œì íŠ¸ì— **ê´€ë¦¬ì í˜ì´ì§€**ë¥¼ ì¶”ê°€í•˜ëŠ” ë°©ë²•ì„ ì„¤ëª…í•©ë‹ˆë‹¤.
ê´€ë¦¬ì í˜ì´ì§€ì—ì„œëŠ” ë‹¤ìŒ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

- **ëŒ€ì‹œë³´ë“œ**: ì „ì²´ í†µê³„ë¥¼ í•œëˆˆì— ë³´ê¸° (íšŒì› ìˆ˜, ê²Œì‹œê¸€ ìˆ˜, ì£¼ê°„ íŠ¸ë Œë“œ ì°¨íŠ¸ ë“±)
- **íšŒì› ê´€ë¦¬**: íšŒì› ëª©ë¡ ì¡°íšŒ, ê¶Œí•œ ë³€ê²½ (USER â†” ADMIN), íšŒì› ì‚­ì œ
- **ê²Œì‹œíŒ ê´€ë¦¬**: ê²Œì‹œíŒ ìƒì„±/ìˆ˜ì •/ì‚­ì œ

### 1.2 ì™œ ë§Œë“¤ì—ˆë‚˜ìš”?

ì¼ë°˜ ì‚¬ìš©ìì™€ ê´€ë¦¬ìë¥¼ êµ¬ë¶„í•˜ì—¬, ê´€ë¦¬ìë§Œ íŠ¹ë³„í•œ ê¸°ëŠ¥(íšŒì› ê´€ë¦¬, í†µê³„ ì¡°íšŒ ë“±)ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤.

### 1.3 ì–´ë–¤ ê¸°ìˆ ì„ ì‚¬ìš©í–ˆë‚˜ìš”?

| ì˜ì—­ | ì‚¬ìš© ê¸°ìˆ  | ì„¤ëª… |
|------|----------|------|
| **ê¶Œí•œ êµ¬ë¶„** | User í…Œì´ë¸”ì— `role` í•„ë“œ ì¶”ê°€ | `ADMIN` ë˜ëŠ” `USER` ê°’ |
| **ë³µì¡í•œ ì¿¼ë¦¬** | MyBatis | í†µê³„ ì¿¼ë¦¬ëŠ” JPAë³´ë‹¤ MyBatisê°€ í¸ë¦¬ |
| **ëŒ€ì‹œë³´ë“œ UI** | React + recharts | ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì‹œê°í™” |
| **ë””ìì¸** | Glassmorphism | ìœ ë¦¬ì²˜ëŸ¼ ë°˜íˆ¬ëª…í•œ ê³ ê¸‰ìŠ¤ëŸ¬ìš´ ë””ìì¸ |

---

## 2. ì „ì²´ êµ¬ì¡° (í•œëˆˆì— ë³´ê¸°)

```
í”„ë¡œì íŠ¸ êµ¬ì¡°
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Backend (Java Spring Framework)
â”œâ”€â”€ model/User.java              â† role í•„ë“œ ì¶”ê°€
â”œâ”€â”€ dto/                         â† ë°ì´í„° ì „ì†¡ ê°ì²´
â”‚   â”œâ”€â”€ DashboardStatsDTO.java   â† ëŒ€ì‹œë³´ë“œ í†µê³„ìš©
â”‚   â”œâ”€â”€ WeeklyStatDTO.java       â† ì£¼ê°„ íŠ¸ë Œë“œìš©
â”‚   â””â”€â”€ ActivityDTO.java         â† ìµœê·¼ í™œë™ìš©
â”œâ”€â”€ mapper/AdminMapper.java      â† MyBatis ì¸í„°í˜ì´ìŠ¤
â”œâ”€â”€ resources/mappers/
â”‚   â””â”€â”€ AdminMapper.xml          â† SQL ì¿¼ë¦¬ ëª¨ìŒ
â”œâ”€â”€ service/AdminService.java    â† ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â””â”€â”€ controller/AdminController.java  â† REST API

Frontend (React)
â”œâ”€â”€ pages/Admin/
â”‚   â”œâ”€â”€ AdminPage.js             â† ëŒ€ì‹œë³´ë“œ (ë©”ì¸ í™”ë©´)
â”‚   â”œâ”€â”€ AdminUsersPage.js        â† íšŒì› ê´€ë¦¬
â”‚   â”œâ”€â”€ AdminBoardsPage.js       â† ê²Œì‹œíŒ ê´€ë¦¬
â”‚   â””â”€â”€ AdminPages.css           â† ìŠ¤íƒ€ì¼ (Glassmorphism)
â””â”€â”€ App.js                       â† ë¼ìš°íŒ… + NavBar ìˆ˜ì •
```

---

## 3. ê¶Œí•œ ì‹œìŠ¤í…œ ì´í•´í•˜ê¸°

### 3.1 User í…Œì´ë¸” ë³€ê²½

ê¸°ì¡´ User í…Œì´ë¸”ì— `role` ì»¬ëŸ¼ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              users í…Œì´ë¸”               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id        (PK)                          â”‚
â”‚ username  (ë¡œê·¸ì¸ ID)                   â”‚
â”‚ password  (ë¹„ë°€ë²ˆí˜¸)                    â”‚
â”‚ name      (ë‹‰ë„¤ì„)                      â”‚
â”‚ email     (ì´ë©”ì¼)                      â”‚
â”‚ role      (ê¶Œí•œ) â† ìƒˆë¡œ ì¶”ê°€!           â”‚
â”‚ ...                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 role ê°’ì˜ ì¢…ë¥˜

| role ê°’ | ì˜ë¯¸ | í•  ìˆ˜ ìˆëŠ” ì¼ |
|---------|------|--------------|
| `USER` | ì¼ë°˜ ì‚¬ìš©ì | ê¸€ ì‘ì„±, ëŒ“ê¸€, ì±„íŒ… ë“± ê¸°ë³¸ ê¸°ëŠ¥ |
| `ADMIN` | ê´€ë¦¬ì | ìœ„ ê¸°ëŠ¥ + ê´€ë¦¬ì í˜ì´ì§€ ì ‘ê·¼ |

### 3.3 ì–´ë–»ê²Œ ê´€ë¦¬ìì¸ì§€ í™•ì¸í•˜ë‚˜ìš”?

**1) í”„ë¡ íŠ¸ì—”ë“œì—ì„œ í™•ì¸ (í™”ë©´ì— ë³´ì—¬ì£¼ê¸°ìš©)**

```javascript
// App.jsì˜ NavBarì—ì„œ
{user && user.role === 'ADMIN' && (
  <Link to="/admin">ğŸ›¡ï¸ ç®¡ç†è€…</Link>
)}
```

ì´ ì½”ë“œì˜ ì˜ë¯¸:
- `user` = ë¡œê·¸ì¸ëœ ì‚¬ìš©ì ì •ë³´
- `user.role === 'ADMIN'` = ê·¸ ì‚¬ìš©ìì˜ ê¶Œí•œì´ ADMINì¸ê°€?
- ë‘˜ ë‹¤ ì°¸ì´ë©´ ê´€ë¦¬ì ë§í¬ë¥¼ ë³´ì—¬ì¤Œ

**2) ë°±ì—”ë“œì—ì„œ í™•ì¸ (ì‹¤ì œ ë³´ì•ˆìš©)**

```java
// AdminController.javaì—ì„œ
@GetMapping("/dashboard")
public ResponseEntity<?> getDashboard(HttpSession session) {
    User user = (User) session.getAttribute("user");

    // ë¡œê·¸ì¸ ì•ˆ í–ˆìœ¼ë©´ ê±°ë¶€
    if (user == null) {
        return ResponseEntity.status(401).body("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤");
    }

    // ê´€ë¦¬ìê°€ ì•„ë‹ˆë©´ ê±°ë¶€
    if (!"ADMIN".equals(user.getRole())) {
        return ResponseEntity.status(403).body("ê´€ë¦¬ì ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤");
    }

    // ì—¬ê¸°ê¹Œì§€ ì™”ìœ¼ë©´ ì§„ì§œ ê´€ë¦¬ì!
    return ResponseEntity.ok(adminService.getDashboardStats());
}
```

> âš ï¸ **ì¤‘ìš”**: í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ìˆ¨ê²¨ë„ URLì„ ì§ì ‘ ì…ë ¥í•˜ë©´ ì ‘ê·¼ ê°€ëŠ¥í•˜ë¯€ë¡œ,
> **ë°˜ë“œì‹œ ë°±ì—”ë“œì—ì„œë„ ê¶Œí•œ í™•ì¸**ì„ í•´ì•¼ í•©ë‹ˆë‹¤!

---

## 4. ë°ì´í„° íë¦„ ì´í•´í•˜ê¸°

ì‚¬ìš©ìê°€ ê´€ë¦¬ì ëŒ€ì‹œë³´ë“œë¥¼ ë³¼ ë•Œ ë°ì´í„°ê°€ ì–´ë–»ê²Œ íë¥´ëŠ”ì§€ ì•Œì•„ë´…ì‹œë‹¤.

```
[ì‚¬ìš©ì]
    â”‚
    â”‚ 1. ë¸Œë¼ìš°ì €ì—ì„œ /admin ì ‘ì†
    â–¼
[React í”„ë¡ íŠ¸ì—”ë“œ]
    â”‚
    â”‚ 2. axios.get('/api/admin/dashboard') ìš”ì²­
    â–¼
[Spring AdminController]
    â”‚
    â”‚ 3. ê¶Œí•œ í™•ì¸ í›„ AdminService í˜¸ì¶œ
    â–¼
[AdminService]
    â”‚
    â”‚ 4. AdminMapper í˜¸ì¶œ (MyBatis)
    â–¼
[AdminMapper.java] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                   â”‚
    â”‚ 5. ì¸í„°í˜ì´ìŠ¤ ì •ì˜                â”‚
    â–¼                                   â”‚
[AdminMapper.xml] â†â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”‚ 6. ì‹¤ì œ SQL ì‹¤í–‰
    â–¼
[MariaDB]
    â”‚
    â”‚ 7. ê²°ê³¼ ë°˜í™˜ (ì—­ìˆœìœ¼ë¡œ)
    â–¼
[Reactì—ì„œ í™”ë©´ì— í‘œì‹œ]
```

---

## 5. ë°±ì—”ë“œ ì½”ë“œ ìƒì„¸ ì„¤ëª…

### 5.1 DTO (Data Transfer Object) ë€?

DTOëŠ” **ë°ì´í„°ë¥¼ ë‹´ì•„ì„œ ì „ë‹¬í•˜ëŠ” ìƒì**ì…ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, ëŒ€ì‹œë³´ë“œì— í•„ìš”í•œ ì •ë³´ë¥¼ ë‹´ëŠ” ìƒì:

```java
// DashboardStatsDTO.java
public class DashboardStatsDTO {
    private int totalUsers;      // ì´ íšŒì› ìˆ˜
    private int adminCount;      // ê´€ë¦¬ì ìˆ˜
    private int totalBoards;     // ì´ ê²Œì‹œíŒ ìˆ˜
    private int totalPosts;      // ì´ ê²Œì‹œê¸€ ìˆ˜
    private int totalComments;   // ì´ ëŒ“ê¸€ ìˆ˜
    private int newUsersThisWeek;   // ì´ë²ˆ ì£¼ ì‹ ê·œ íšŒì›
    private int newPostsThisWeek;   // ì´ë²ˆ ì£¼ ì‹ ê·œ ê²Œì‹œê¸€

    // getterì™€ setter ë©”ì„œë“œë“¤...
}
```

**ì™œ DTOë¥¼ ì‚¬ìš©í•˜ë‚˜ìš”?**

| ì´ìœ  | ì„¤ëª… |
|------|------|
| í•„ìš”í•œ ê²ƒë§Œ ì „ì†¡ | DBì˜ ëª¨ë“  ì •ë³´ê°€ ì•„ë‹Œ, í™”ë©´ì— í•„ìš”í•œ ê²ƒë§Œ |
| ë³´ì•ˆ | ë¹„ë°€ë²ˆí˜¸ ê°™ì€ ë¯¼ê° ì •ë³´ ì œì™¸ ê°€ëŠ¥ |
| ìœ ì—°ì„± | ì—¬ëŸ¬ í…Œì´ë¸”ì˜ ì •ë³´ë¥¼ í•˜ë‚˜ë¡œ í•©ì¹¨ |

### 5.2 MyBatis Mapper ì¸í„°í˜ì´ìŠ¤

```java
// AdminMapper.java
@Mapper  // â† ì´ ì–´ë…¸í…Œì´ì…˜ì´ "ë‚˜ëŠ” MyBatis Mapperì•¼"ë¼ê³  ì•Œë ¤ì¤Œ
public interface AdminMapper {

    // ëŒ€ì‹œë³´ë“œ í†µê³„ ì¡°íšŒ
    DashboardStatsDTO selectDashboardStats();

    // ì£¼ê°„ í†µê³„ ì¡°íšŒ (ì°¨íŠ¸ìš©)
    List<WeeklyStatDTO> selectWeeklyStats();

    // ìµœê·¼ í™œë™ ì¡°íšŒ
    List<ActivityDTO> selectRecentActivity(@Param("limit") int limit);
}
```

**ì¸í„°í˜ì´ìŠ¤ë§Œ ìˆê³  êµ¬í˜„ì²´ê°€ ì—†ëŠ”ë° ì–´ë–»ê²Œ ë™ì‘í•˜ë‚˜ìš”?**

â†’ MyBatisê°€ XML íŒŒì¼ì„ ì½ì–´ì„œ **ìë™ìœ¼ë¡œ êµ¬í˜„ì²´ë¥¼ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤!**

### 5.3 MyBatis XML íŒŒì¼ (SQL ì¿¼ë¦¬)

```xml
<!-- AdminMapper.xml -->
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- namespace: ì–´ë–¤ Java ì¸í„°í˜ì´ìŠ¤ì™€ ì—°ê²°í• ì§€ -->
<mapper namespace="com.ej2.mapper.AdminMapper">

    <!-- id: ë©”ì„œë“œ ì´ë¦„ê³¼ ì¼ì¹˜í•´ì•¼ í•¨ -->
    <!-- resultType: ê²°ê³¼ë¥¼ ì–´ë–¤ í´ë˜ìŠ¤ì— ë‹´ì„ì§€ -->
    <select id="selectDashboardStats" resultType="com.ej2.dto.DashboardStatsDTO">
        SELECT
            (SELECT COUNT(*) FROM users) as totalUsers,
            (SELECT COUNT(*) FROM users WHERE role = 'ADMIN') as adminCount,
            (SELECT COUNT(*) FROM boards) as totalBoards,
            (SELECT COUNT(*) FROM posts) as totalPosts,
            (SELECT COUNT(*) FROM comments) as totalComments,
            (SELECT COUNT(*) FROM users
             WHERE created_at >= DATE_SUB(NOW(), INTERVAL 7 DAY)) as newUsersThisWeek,
            (SELECT COUNT(*) FROM posts
             WHERE created_at >= DATE_SUB(NOW(), INTERVAL 7 DAY)) as newPostsThisWeek
    </select>

</mapper>
```

**XML íƒœê·¸ ì„¤ëª…:**

| íƒœê·¸ | ìš©ë„ |
|------|------|
| `<select>` | SELECT ì¿¼ë¦¬ (ì¡°íšŒ) |
| `<insert>` | INSERT ì¿¼ë¦¬ (ì¶”ê°€) |
| `<update>` | UPDATE ì¿¼ë¦¬ (ìˆ˜ì •) |
| `<delete>` | DELETE ì¿¼ë¦¬ (ì‚­ì œ) |

### 5.4 Service ê³„ì¸µ

ServiceëŠ” **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì²˜ë¦¬**í•©ë‹ˆë‹¤.

```java
// AdminService.java
@Service  // â† Springì—ê²Œ "ë‚˜ëŠ” ì„œë¹„ìŠ¤ì•¼"ë¼ê³  ì•Œë ¤ì¤Œ
public class AdminService {

    @Autowired  // â† Springì´ ìë™ìœ¼ë¡œ AdminMapperë¥¼ ì—°ê²°í•´ì¤Œ
    private AdminMapper adminMapper;

    // ëŒ€ì‹œë³´ë“œ í†µê³„ ê°€ì ¸ì˜¤ê¸°
    public DashboardStatsDTO getDashboardStats() {
        return adminMapper.selectDashboardStats();
    }

    // ì£¼ê°„ í†µê³„ ê°€ì ¸ì˜¤ê¸°
    public List<WeeklyStatDTO> getWeeklyStats() {
        return adminMapper.selectWeeklyStats();
    }
}
```

**@Autowiredê°€ ë­”ê°€ìš”?**

```
í‰ì†Œ: "AdminMapperë¥¼ ì§ì ‘ ë§Œë“¤ì–´ì„œ ì¨ì•¼ì§€"
     AdminMapper mapper = new AdminMapperImpl();

Spring: "@Autowired ë¶™ì´ë©´ ë‚´ê°€ ì•Œì•„ì„œ ë„£ì–´ì¤„ê²Œ!"
        @Autowired
        private AdminMapper adminMapper;  // ìë™ìœ¼ë¡œ ì—°ê²°ë¨!
```

### 5.5 Controller ê³„ì¸µ

ControllerëŠ” **HTTP ìš”ì²­ì„ ë°›ì•„ì„œ ì‘ë‹µ**í•©ë‹ˆë‹¤.

```java
// AdminController.java
@RestController                    // REST API ì»¨íŠ¸ë¡¤ëŸ¬
@RequestMapping("/api/admin")      // ê¸°ë³¸ URL ê²½ë¡œ
public class AdminController {

    @Autowired
    private AdminService adminService;

    // GET /api/admin/dashboard
    @GetMapping("/dashboard")
    public ResponseEntity<?> getDashboard(HttpSession session) {

        // 1. ì„¸ì…˜ì—ì„œ ë¡œê·¸ì¸ ì‚¬ìš©ì í™•ì¸
        User user = (User) session.getAttribute("user");
        if (user == null) {
            return ResponseEntity.status(401).body("ãƒ­ã‚°ã‚¤ãƒ³ãŒå¿…è¦ã§ã™");
        }

        // 2. ê´€ë¦¬ì ê¶Œí•œ í™•ì¸
        if (!"ADMIN".equals(user.getRole())) {
            return ResponseEntity.status(403).body("ç®¡ç†è€…æ¨©é™ãŒå¿…è¦ã§ã™");
        }

        // 3. í†µê³„ ë°ì´í„° ë°˜í™˜
        return ResponseEntity.ok(adminService.getDashboardStats());
    }
}
```

**HTTP ìƒíƒœ ì½”ë“œ ì„¤ëª…:**

| ì½”ë“œ | ì˜ë¯¸ | ì–¸ì œ ì‚¬ìš©? |
|------|------|-----------|
| 200 OK | ì„±ê³µ | ì •ìƒ ì‘ë‹µ |
| 401 Unauthorized | ì¸ì¦ í•„ìš” | ë¡œê·¸ì¸ ì•ˆ í•¨ |
| 403 Forbidden | ê¶Œí•œ ì—†ìŒ | ë¡œê·¸ì¸í–ˆì§€ë§Œ ê¶Œí•œ ë¶€ì¡± |
| 404 Not Found | ì°¾ì„ ìˆ˜ ì—†ìŒ | ì˜ëª»ëœ URL |
| 500 Server Error | ì„œë²„ ì˜¤ë¥˜ | ë²„ê·¸ ë°œìƒ |

---

## 6. í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œ ìƒì„¸ ì„¤ëª…

### 6.1 React ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

```
AdminPage.js (ëŒ€ì‹œë³´ë“œ)
â”œâ”€â”€ StatCard (í†µê³„ ì¹´ë“œ 4ê°œ)
â”‚   â””â”€â”€ useCountUp (ìˆ«ì ì• ë‹ˆë©”ì´ì…˜)
â”œâ”€â”€ AreaChart (ì£¼ê°„ íŠ¸ë Œë“œ ì°¨íŠ¸)
â”œâ”€â”€ PieChart (íšŒì› ë¶„í¬ ì°¨íŠ¸)
â”œâ”€â”€ ActivityFeed (ìµœê·¼ í™œë™)
â””â”€â”€ QuickMenu (ë¹ ë¥¸ ë©”ë‰´)
```

### 6.2 ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° (useEffect)

```javascript
// AdminPage.js
import { useState, useEffect } from 'react';
import axios from 'axios';

function AdminPage() {
    // ìƒíƒœ(state) ì •ì˜ - ë°ì´í„°ë¥¼ ì €ì¥í•  ë³€ìˆ˜
    const [stats, setStats] = useState(null);      // í†µê³„
    const [loading, setLoading] = useState(true);  // ë¡œë”© ì¤‘?
    const [error, setError] = useState(null);      // ì—ëŸ¬

    // useEffect - ì»´í¬ë„ŒíŠ¸ê°€ í™”ë©´ì— ë‚˜íƒ€ë‚  ë•Œ ì‹¤í–‰
    useEffect(() => {
        fetchDashboardData();  // ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
    }, []);  // ë¹ˆ ë°°ì—´ = ì²˜ìŒ í•œ ë²ˆë§Œ ì‹¤í–‰

    // ë°ì´í„° ê°€ì ¸ì˜¤ëŠ” í•¨ìˆ˜
    const fetchDashboardData = async () => {
        try {
            setLoading(true);

            // ë°±ì—”ë“œ API í˜¸ì¶œ
            const response = await axios.get('/api/admin/dashboard');

            // ì„±ê³µí•˜ë©´ statsì— ì €ì¥
            setStats(response.data);
        } catch (err) {
            // ì‹¤íŒ¨í•˜ë©´ errorì— ì €ì¥
            setError('ãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿ã«å¤±æ•—ã—ã¾ã—ãŸ');
        } finally {
            // ì„±ê³µ/ì‹¤íŒ¨ ìƒê´€ì—†ì´ ë¡œë”© ë
            setLoading(false);
        }
    };

    // í™”ë©´ ê·¸ë¦¬ê¸°
    if (loading) return <div>ë¡œë”© ì¤‘...</div>;
    if (error) return <div>{error}</div>;

    return (
        <div>
            <h1>ëŒ€ì‹œë³´ë“œ</h1>
            <p>ì´ íšŒì›: {stats.totalUsers}ëª…</p>
        </div>
    );
}
```

### 6.3 ìˆ«ì ì¹´ìš´íŠ¸ì—… ì• ë‹ˆë©”ì´ì…˜

```javascript
// ì»¤ìŠ¤í…€ í›… (Custom Hook) - ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ë¡œì§
const useCountUp = (end, duration = 1000) => {
    const [count, setCount] = useState(0);

    useEffect(() => {
        if (end === 0) return;

        let startTime = null;
        const step = (timestamp) => {
            if (!startTime) startTime = timestamp;

            // ì§„í–‰ë¥  ê³„ì‚° (0 ~ 1)
            const progress = Math.min((timestamp - startTime) / duration, 1);

            // easeOutQuart: ì²˜ìŒ ë¹ ë¥´ê³  ëì— ëŠë ¤ì§€ëŠ” íš¨ê³¼
            const easeOut = 1 - Math.pow(1 - progress, 4);

            // í˜„ì¬ í‘œì‹œí•  ìˆ«ì
            setCount(Math.floor(easeOut * end));

            // ì•„ì§ ì•ˆ ëë‚¬ìœ¼ë©´ ê³„ì† ì‹¤í–‰
            if (progress < 1) {
                requestAnimationFrame(step);
            }
        };

        requestAnimationFrame(step);
    }, [end, duration]);

    return count;
};

// ì‚¬ìš© ì˜ˆì‹œ
function StatCard({ value }) {
    const animatedValue = useCountUp(value);  // 0ì—ì„œ valueê¹Œì§€ ì• ë‹ˆë©”ì´ì…˜
    return <div>{animatedValue}</div>;
}
```

### 6.4 Recharts ì°¨íŠ¸ ì‚¬ìš©ë²•

```javascript
import {
    AreaChart, Area, XAxis, YAxis,
    Tooltip, ResponsiveContainer
} from 'recharts';

// ë°ì´í„° í˜•ì‹
const data = [
    { date: '01/25', userCount: 5, postCount: 12 },
    { date: '01/26', userCount: 8, postCount: 15 },
    { date: '01/27', userCount: 3, postCount: 20 },
    // ...
];

// ì°¨íŠ¸ ì»´í¬ë„ŒíŠ¸
function TrendChart({ data }) {
    return (
        <ResponsiveContainer width="100%" height={300}>
            <AreaChart data={data}>
                {/* Xì¶•: date í‘œì‹œ */}
                <XAxis dataKey="date" />

                {/* Yì¶•: ìˆ«ì í‘œì‹œ */}
                <YAxis />

                {/* ë§ˆìš°ìŠ¤ ì˜¬ë¦¬ë©´ ìƒì„¸ ì •ë³´ */}
                <Tooltip />

                {/* ì˜ì—­ ê·¸ë˜í”„ - íšŒì› ìˆ˜ */}
                <Area
                    type="monotone"      // ë¶€ë“œëŸ¬ìš´ ê³¡ì„ 
                    dataKey="userCount"  // ì–´ë–¤ ë°ì´í„°?
                    stroke="#8884d8"     // ì„  ìƒ‰ìƒ
                    fill="#8884d8"       // ì±„ìš°ê¸° ìƒ‰ìƒ
                    fillOpacity={0.3}    // íˆ¬ëª…ë„
                />

                {/* ì˜ì—­ ê·¸ë˜í”„ - ê²Œì‹œê¸€ ìˆ˜ */}
                <Area
                    type="monotone"
                    dataKey="postCount"
                    stroke="#82ca9d"
                    fill="#82ca9d"
                    fillOpacity={0.3}
                />
            </AreaChart>
        </ResponsiveContainer>
    );
}
```

### 6.5 Glassmorphism ë””ìì¸

**Glassmorphismì´ë€?**
- ìœ ë¦¬ì²˜ëŸ¼ ë°˜íˆ¬ëª…í•œ íš¨ê³¼
- ë’¤ ë°°ê²½ì´ íë¦¿í•˜ê²Œ ë¹„ì¹¨
- ê³ ê¸‰ìŠ¤ëŸ½ê³  í˜„ëŒ€ì ì¸ ëŠë‚Œ

```css
/* AdminPages.css */

/* ë°°ê²½ - ê·¸ë¼ë°ì´ì…˜ìœ¼ë¡œ í™”ë ¤í•˜ê²Œ */
.admin-container {
    min-height: 100vh;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
}

/* ì¹´ë“œ - ìœ ë¦¬ íš¨ê³¼ */
.stat-card {
    background: rgba(255, 255, 255, 0.15);  /* ë°˜íˆ¬ëª… í°ìƒ‰ */
    backdrop-filter: blur(20px);            /* ë°°ê²½ íë¦¬ê²Œ */
    border-radius: 20px;                    /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
    border: 1px solid rgba(255, 255, 255, 0.2);  /* í…Œë‘ë¦¬ */
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);   /* ê·¸ë¦¼ì */
}

/* í˜¸ë²„ íš¨ê³¼ - ë§ˆìš°ìŠ¤ ì˜¬ë¦¬ë©´ */
.stat-card:hover {
    transform: translateY(-5px);  /* ì‚´ì§ ìœ„ë¡œ */
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.2);  /* ê·¸ë¦¼ì ê°•í•´ì§ */
}
```

**CSS ì†ì„± ì„¤ëª…:**

| ì†ì„± | ê°’ | ì„¤ëª… |
|------|-----|------|
| `background` | `rgba(255,255,255,0.15)` | í°ìƒ‰ 15% íˆ¬ëª…ë„ |
| `backdrop-filter` | `blur(20px)` | ë’¤ ë°°ê²½ 20px íë¦¬ê²Œ |
| `border-radius` | `20px` | ëª¨ì„œë¦¬ ë‘¥ê¸€ê²Œ |
| `transform` | `translateY(-5px)` | Yì¶•ìœ¼ë¡œ -5px (ìœ„ë¡œ) ì´ë™ |

---

## 7. ë¼ìš°íŒ… ì„¤ì •

### 7.1 App.jsì— ì¶”ê°€ëœ ë¶€ë¶„

```javascript
// 1. import ì¶”ê°€
import AdminPage from './pages/Admin/AdminPage';
import AdminUsersPage from './pages/Admin/AdminUsersPage';
import AdminBoardsPage from './pages/Admin/AdminBoardsPage';

// 2. NavBarì— ê´€ë¦¬ì ë©”ë‰´ ì¶”ê°€
function NavBar() {
    // ...
    return (
        <nav>
            {/* ê¸°ì¡´ ë©”ë‰´ë“¤... */}

            {/* ê´€ë¦¬ì ë©”ë‰´ - ADMINë§Œ ë³´ì„ */}
            {user && user.role === 'ADMIN' && (
                <li>
                    <Link to="/admin" className="nav-admin">
                        ğŸ›¡ï¸ ç®¡ç†è€…
                    </Link>
                </li>
            )}
        </nav>
    );
}

// 3. Routesì— ê´€ë¦¬ì í˜ì´ì§€ ì¶”ê°€
function AppContent() {
    return (
        <Routes>
            {/* ê¸°ì¡´ ë¼ìš°íŠ¸ë“¤... */}

            {/* ê´€ë¦¬ì í˜ì´ì§€ */}
            <Route path="/admin" element={<AdminPage />} />
            <Route path="/admin/users" element={<AdminUsersPage />} />
            <Route path="/admin/boards" element={<AdminBoardsPage />} />
        </Routes>
    );
}
```

### 7.2 ê´€ë¦¬ì ë§í¬ ìŠ¤íƒ€ì¼

```css
/* App.css */
.nav-admin {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: #ffffff !important;
    font-weight: 600;
    box-shadow: 0 2px 8px rgba(102, 126, 234, 0.4);
}

.nav-admin:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.5);
}
```

---

## 8. API ëª©ë¡

### 8.1 ëŒ€ì‹œë³´ë“œ API

| ë©”ì„œë“œ | URL | ì„¤ëª… |
|--------|-----|------|
| GET | `/api/admin/dashboard` | ëŒ€ì‹œë³´ë“œ í†µê³„ |
| GET | `/api/admin/dashboard/weekly` | ì£¼ê°„ íŠ¸ë Œë“œ |
| GET | `/api/admin/dashboard/activity?limit=10` | ìµœê·¼ í™œë™ |

### 8.2 íšŒì› ê´€ë¦¬ API

| ë©”ì„œë“œ | URL | ì„¤ëª… |
|--------|-----|------|
| GET | `/api/admin/users?page=0&size=20` | íšŒì› ëª©ë¡ |
| PUT | `/api/admin/users/{id}/role` | ê¶Œí•œ ë³€ê²½ |
| DELETE | `/api/admin/users/{id}` | íšŒì› ì‚­ì œ |

### 8.3 ê²Œì‹œíŒ ê´€ë¦¬ API

| ë©”ì„œë“œ | URL | ì„¤ëª… |
|--------|-----|------|
| GET | `/api/admin/boards` | ê²Œì‹œíŒ ëª©ë¡ |
| POST | `/api/admin/boards` | ê²Œì‹œíŒ ìƒì„± |
| PUT | `/api/admin/boards/{id}` | ê²Œì‹œíŒ ìˆ˜ì • |
| DELETE | `/api/admin/boards/{id}` | ê²Œì‹œíŒ ì‚­ì œ |

---

## 9. í…ŒìŠ¤íŠ¸ ë°©ë²•

### 9.1 ê´€ë¦¬ì ê³„ì • ë§Œë“¤ê¸°

```sql
-- MariaDBì—ì„œ ì‹¤í–‰
-- ê¸°ì¡´ íšŒì›ì„ ê´€ë¦¬ìë¡œ ë³€ê²½
UPDATE users SET role = 'ADMIN' WHERE username = 'ì›í•˜ëŠ”ì•„ì´ë””';

-- í™•ì¸
SELECT username, name, role FROM users WHERE role = 'ADMIN';
```

### 9.2 ì„œë²„ ì‹¤í–‰

```bash
# Docker Composeë¡œ í•œë²ˆì— ì‹¤í–‰
docker-compose up --build

# ë˜ëŠ” ê°œë³„ ì‹¤í–‰
# í„°ë¯¸ë„ 1: ë°±ì—”ë“œ
cd backend && mvn clean package && mvn tomcat7:run

# í„°ë¯¸ë„ 2: í”„ë¡ íŠ¸ì—”ë“œ
cd frontend && npm start
```

### 9.3 í…ŒìŠ¤íŠ¸ ìˆœì„œ

1. ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:3000` ì ‘ì†
2. ì¼ë°˜ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ â†’ NavBarì— ê´€ë¦¬ì ë©”ë‰´ ì—†ìŒ í™•ì¸
3. ê´€ë¦¬ì ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ â†’ NavBarì— ğŸ›¡ï¸ ç®¡ç†è€… ë©”ë‰´ ë‚˜íƒ€ë‚¨
4. ê´€ë¦¬ì ë©”ë‰´ í´ë¦­ â†’ ëŒ€ì‹œë³´ë“œ í˜ì´ì§€ í™•ì¸
5. íšŒì› ê´€ë¦¬, ê²Œì‹œíŒ ê´€ë¦¬ í…ŒìŠ¤íŠ¸

---

## 10. íŒŒì¼ ëª©ë¡ ì •ë¦¬

### 10.1 ë°±ì—”ë“œ íŒŒì¼

| íŒŒì¼ ê²½ë¡œ | ì—­í•  |
|----------|------|
| `model/User.java` | role í•„ë“œ ì¶”ê°€ |
| `dto/DashboardStatsDTO.java` | ëŒ€ì‹œë³´ë“œ í†µê³„ DTO |
| `dto/WeeklyStatDTO.java` | ì£¼ê°„ íŠ¸ë Œë“œ DTO |
| `dto/ActivityDTO.java` | ìµœê·¼ í™œë™ DTO |
| `mapper/AdminMapper.java` | MyBatis ì¸í„°í˜ì´ìŠ¤ |
| `resources/mappers/AdminMapper.xml` | SQL ì¿¼ë¦¬ (ì¼ë³¸ì–´ ì£¼ì„) |
| `service/AdminService.java` | ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ |
| `controller/AdminController.java` | REST API |

### 10.2 í”„ë¡ íŠ¸ì—”ë“œ íŒŒì¼

| íŒŒì¼ ê²½ë¡œ | ì—­í•  |
|----------|------|
| `pages/Admin/AdminPage.js` | ëŒ€ì‹œë³´ë“œ (ë©”ì¸) |
| `pages/Admin/AdminUsersPage.js` | íšŒì› ê´€ë¦¬ |
| `pages/Admin/AdminBoardsPage.js` | ê²Œì‹œíŒ ê´€ë¦¬ |
| `pages/Admin/AdminPages.css` | Glassmorphism ìŠ¤íƒ€ì¼ |
| `App.js` | ë¼ìš°íŒ… + NavBar ìˆ˜ì • |
| `App.css` | ê´€ë¦¬ì ë§í¬ ìŠ¤íƒ€ì¼ |

---

## 11. í•µì‹¬ ì •ë¦¬

### 11.1 ìƒˆë¡œ ë°°ìš´ ê°œë…

| ê°œë… | ì„¤ëª… |
|------|------|
| **role ê¸°ë°˜ ê¶Œí•œ** | User í…Œì´ë¸”ì— role í•„ë“œë¡œ ê¶Œí•œ êµ¬ë¶„ |
| **MyBatis** | ë³µì¡í•œ SQLì€ XMLë¡œ ì‘ì„± |
| **ì¡°ê±´ë¶€ ë Œë”ë§** | Reactì—ì„œ `{ì¡°ê±´ && <ì»´í¬ë„ŒíŠ¸/>}` |
| **Custom Hook** | `useCountUp` ê°™ì€ ì¬ì‚¬ìš© ë¡œì§ |
| **Glassmorphism** | `backdrop-filter: blur()`ë¡œ ìœ ë¦¬ íš¨ê³¼ |
| **recharts** | Reactìš© ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ |

### 11.2 ë³´ì•ˆ ì²´í¬í¬ì¸íŠ¸

1. âœ… í”„ë¡ íŠ¸ì—”ë“œì—ì„œ role í™•ì¸ (ë©”ë‰´ ìˆ¨ê¸°ê¸°)
2. âœ… ë°±ì—”ë“œì—ì„œ session í™•ì¸ (ë¡œê·¸ì¸ ì—¬ë¶€)
3. âœ… ë°±ì—”ë“œì—ì„œ role í™•ì¸ (ê¶Œí•œ ì—¬ë¶€)
4. âš ï¸ URL ì§ì ‘ ì…ë ¥í•´ë„ ë°±ì—”ë“œì—ì„œ ê±°ë¶€ë¨

---

## ì°¸ê³  ìë£Œ

- [MyBatis ê³µì‹ ë¬¸ì„œ (í•œêµ­ì–´)](https://mybatis.org/mybatis-3/ko/index.html)
- [recharts ê³µì‹ ë¬¸ì„œ](https://recharts.org/en-US/)
- [Glassmorphism CSS Generator](https://hype4.academy/tools/glassmorphism-generator)
- [React Hooks ê³µì‹ ë¬¸ì„œ](https://react.dev/reference/react)
