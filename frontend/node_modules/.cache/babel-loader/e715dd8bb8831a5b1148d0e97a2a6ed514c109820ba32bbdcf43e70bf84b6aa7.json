{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\EJ2\\\\frontend\\\\src\\\\pages\\\\Board\\\\CommentSection.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './CommentSection.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction CommentSection({\n  postId,\n  boardId,\n  isAnonymous\n}) {\n  _s();\n  const [comments, setComments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [newComment, setNewComment] = useState('');\n  const [replyTo, setReplyTo] = useState(null);\n  const [replyContent, setReplyContent] = useState('');\n  const [editingId, setEditingId] = useState(null);\n  const [editContent, setEditContent] = useState('');\n  const [likedComments, setLikedComments] = useState({});\n\n  // ÁèæÂú®„ÅÆ„É¶„Éº„Ç∂„ÉºÊÉÖÂ†±„ÇíÂèñÂæó\n  const user = JSON.parse(localStorage.getItem('user') || '{}');\n  useEffect(() => {\n    fetchComments();\n  }, [postId]);\n  const fetchComments = async () => {\n    try {\n      const response = await axios.get(`/api/comments/post/${postId}`);\n      setComments(response.data);\n\n      // Check like status for each comment\n      const user = JSON.parse(localStorage.getItem('user') || '{}');\n      const likeStatuses = {};\n      for (const comment of response.data) {\n        try {\n          const likeCheck = await axios.get(`/api/comments/${comment.id}/like/check`, {\n            params: {\n              userId: user.id || null\n            }\n          });\n          likeStatuses[comment.id] = likeCheck.data.liked;\n        } catch (e) {\n          likeStatuses[comment.id] = false;\n        }\n      }\n      setLikedComments(likeStatuses);\n      setLoading(false);\n    } catch (error) {\n      console.error('„Ç≥„É°„É≥„Éà„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\n      setComments([]);\n      setLoading(false);\n    }\n  };\n  const handleSubmitComment = async e => {\n    e.preventDefault();\n    if (!newComment.trim()) return;\n\n    // Get current user\n    const user = JSON.parse(localStorage.getItem('user') || '{}');\n    if (!user.id) {\n      alert('„É≠„Ç∞„Ç§„É≥„ÅåÂøÖË¶Å„Åß„Åô');\n      return;\n    }\n    try {\n      const commentData = {\n        postId: parseInt(postId),\n        userId: user.id,\n        content: newComment,\n        anonymousId: isAnonymous ? `ÂåøÂêç${Math.floor(Math.random() * 1000)}` : null\n      };\n      await axios.post('/api/comments', commentData);\n      setNewComment('');\n      fetchComments();\n    } catch (error) {\n      console.error('„Ç≥„É°„É≥„Éà„ÅÆ‰ΩúÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\n      alert('„Ç≥„É°„É≥„Éà„ÅÆ‰ΩúÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ');\n    }\n  };\n  const handleSubmitReply = async (e, parentId) => {\n    e.preventDefault();\n    if (!replyContent.trim()) return;\n\n    // Get current user\n    const user = JSON.parse(localStorage.getItem('user') || '{}');\n    if (!user.id) {\n      alert('„É≠„Ç∞„Ç§„É≥„ÅåÂøÖË¶Å„Åß„Åô');\n      return;\n    }\n    try {\n      const replyData = {\n        postId: parseInt(postId),\n        userId: user.id,\n        parentId: parentId,\n        content: replyContent,\n        anonymousId: isAnonymous ? `ÂåøÂêç${Math.floor(Math.random() * 1000)}` : null\n      };\n      await axios.post('/api/comments', replyData);\n      setReplyContent('');\n      setReplyTo(null);\n      fetchComments();\n    } catch (error) {\n      console.error('Ëøî‰ø°„ÅÆ‰ΩúÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\n      alert('Ëøî‰ø°„ÅÆ‰ΩúÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ');\n    }\n  };\n  const handleLikeComment = async commentId => {\n    try {\n      const user = JSON.parse(localStorage.getItem('user') || '{}');\n      const response = await axios.post(`/api/comments/${commentId}/like`, null, {\n        params: {\n          userId: user.id || null\n        }\n      });\n\n      // Update liked state locally\n      setLikedComments(prev => ({\n        ...prev,\n        [commentId]: response.data.liked\n      }));\n\n      // Update comment like count locally\n      setComments(prev => prev.map(comment => {\n        if (comment.id === commentId) {\n          return {\n            ...comment,\n            likeCount: response.data.liked ? (comment.likeCount || 0) + 1 : Math.max(0, (comment.likeCount || 0) - 1)\n          };\n        }\n        return comment;\n      }));\n    } catch (error) {\n      console.error('„ÅÑ„ÅÑ„Å≠„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\n    }\n  };\n  const handleDeleteComment = async commentId => {\n    if (!window.confirm('„Ç≥„É°„É≥„Éà„ÇíÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü')) return;\n    if (!user.id) {\n      alert('„É≠„Ç∞„Ç§„É≥„ÅåÂøÖË¶Å„Åß„Åô');\n      return;\n    }\n    try {\n      await axios.delete(`/api/comments/${commentId}?userId=${user.id}`);\n      fetchComments();\n    } catch (error) {\n      console.error('„Ç≥„É°„É≥„Éà„ÅÆÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\n      if (error.response && error.response.status === 403) {\n        alert('Ëá™ÂàÜ„ÅÆ„Ç≥„É°„É≥„Éà„ÅÆ„ÅøÂâäÈô§„Åß„Åç„Åæ„Åô„ÄÇ');\n      } else {\n        alert('„Ç≥„É°„É≥„Éà„ÅÆÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ');\n      }\n    }\n  };\n\n  // „Ç≥„É°„É≥„ÉàÁ∑®ÈõÜÈñãÂßã\n  const handleStartEdit = comment => {\n    setEditingId(comment.id);\n    setEditContent(comment.content);\n  };\n\n  // „Ç≥„É°„É≥„ÉàÁ∑®ÈõÜ„Ç≠„É£„É≥„Çª„É´\n  const handleCancelEdit = () => {\n    setEditingId(null);\n    setEditContent('');\n  };\n\n  // „Ç≥„É°„É≥„ÉàÊõ¥Êñ∞„Çí‰øùÂ≠ò\n  const handleSaveEdit = async commentId => {\n    if (!editContent.trim()) return;\n    if (!user.id) {\n      alert('„É≠„Ç∞„Ç§„É≥„ÅåÂøÖË¶Å„Åß„Åô');\n      return;\n    }\n    try {\n      await axios.put(`/api/comments/${commentId}?userId=${user.id}`, {\n        content: editContent\n      });\n      setEditingId(null);\n      setEditContent('');\n      fetchComments();\n    } catch (error) {\n      console.error('„Ç≥„É°„É≥„Éà„ÅÆÊõ¥Êñ∞„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\n      if (error.response && error.response.status === 403) {\n        alert('Ëá™ÂàÜ„ÅÆ„Ç≥„É°„É≥„Éà„ÅÆ„ÅøÁ∑®ÈõÜ„Åß„Åç„Åæ„Åô„ÄÇ');\n      } else {\n        alert('„Ç≥„É°„É≥„Éà„ÅÆÊõ¥Êñ∞„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ');\n      }\n    }\n  };\n\n  // Êú¨‰∫∫„ÅÆ„Ç≥„É°„É≥„Éà„Åã„Å©„ÅÜ„Åã„ÇíÁ¢∫Ë™ç\n  const isOwnComment = comment => {\n    return user.id && comment.userId === user.id;\n  };\n  const getTimeAgo = dateString => {\n    const now = new Date();\n    const past = new Date(dateString);\n    const diffInMinutes = Math.floor((now - past) / (1000 * 60));\n    if (diffInMinutes < 1) return '„Åü„Å£„Åü‰ªä';\n    if (diffInMinutes < 60) return `${diffInMinutes}ÂàÜÂâç`;\n    if (diffInMinutes < 1440) return `${Math.floor(diffInMinutes / 60)}ÊôÇÈñìÂâç`;\n    if (diffInMinutes < 10080) return `${Math.floor(diffInMinutes / 1440)}Êó•Ââç`;\n    return past.toLocaleDateString('ja-JP');\n  };\n  const topLevelComments = comments.filter(c => !c.parentId);\n  const getReplies = parentId => comments.filter(c => c.parentId === parentId);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comments-loading\",\n      children: \"\\u30B3\\u30E1\\u30F3\\u30C8\\u3092\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comments-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comments-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"\\u30B3\\u30E1\\u30F3\\u30C8 \", comments.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"comment-form\",\n      onSubmit: handleSubmitComment,\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: newComment,\n        onChange: e => setNewComment(e.target.value),\n        placeholder: \"\\u30B3\\u30E1\\u30F3\\u30C8\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044...\",\n        rows: \"3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"submit-comment-btn\",\n        children: \"\\u30B3\\u30E1\\u30F3\\u30C8\\u3092\\u6295\\u7A3F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comments-list\",\n      children: topLevelComments.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-comments\",\n        children: \"\\u6700\\u521D\\u306E\\u30B3\\u30E1\\u30F3\\u30C8\\u3092\\u66F8\\u3044\\u3066\\u307F\\u307E\\u3057\\u3087\\u3046\\uFF01\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 11\n      }, this) : topLevelComments.map(comment => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"comment-author\",\n            children: isAnonymous ? comment.anonymousId || 'ÂåøÂêç' : comment.authorNickname || 'Unknown User'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"comment-time\",\n            children: getTimeAgo(comment.createdAt)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 15\n        }, this), editingId === comment.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-edit-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: editContent,\n            onChange: e => setEditContent(e.target.value),\n            rows: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"edit-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCancelEdit,\n              children: \"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleSaveEdit(comment.id),\n              children: \"\\u4FDD\\u5B58\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-content\",\n          children: comment.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `comment-action-btn ${likedComments[comment.id] ? 'liked' : ''}`,\n            onClick: () => handleLikeComment(comment.id),\n            children: [likedComments[comment.id] ? 'üëç' : 'üëç', \" \", comment.likeCount || 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"comment-action-btn\",\n            onClick: () => setReplyTo(replyTo === comment.id ? null : comment.id),\n            children: \"\\uD83D\\uDCAC \\u8FD4\\u4FE1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 17\n          }, this), isOwnComment(comment) && !comment.isDeleted && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"comment-action-btn edit\",\n              onClick: () => handleStartEdit(comment),\n              children: \"\\u270F\\uFE0F \\u7DE8\\u96C6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 287,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"comment-action-btn delete\",\n              onClick: () => handleDeleteComment(comment.id),\n              children: \"\\uD83D\\uDDD1\\uFE0F \\u524A\\u9664\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 15\n        }, this), replyTo === comment.id && /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"reply-form\",\n          onSubmit: e => handleSubmitReply(e, comment.id),\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: replyContent,\n            onChange: e => setReplyContent(e.target.value),\n            placeholder: \"\\u8FD4\\u4FE1\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044...\",\n            rows: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"reply-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setReplyTo(null),\n              children: \"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 315,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"\\u8FD4\\u4FE1\\u3092\\u6295\\u7A3F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 17\n        }, this), getReplies(comment.id).map(reply => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-item reply\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"comment-author\",\n              children: isAnonymous ? reply.anonymousId || 'ÂåøÂêç' : reply.authorNickname || 'Unknown User'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"comment-time\",\n              children: getTimeAgo(reply.createdAt)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 19\n          }, this), editingId === reply.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment-edit-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: editContent,\n              onChange: e => setEditContent(e.target.value),\n              rows: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"edit-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleCancelEdit,\n                children: \"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 340,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleSaveEdit(reply.id),\n                children: \"\\u4FDD\\u5B58\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 341,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 339,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 21\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment-content\",\n            children: reply.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: `comment-action-btn ${likedComments[reply.id] ? 'liked' : ''}`,\n              onClick: () => handleLikeComment(reply.id),\n              children: [likedComments[reply.id] ? 'üëç' : 'üëç', \" \", reply.likeCount || 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 21\n            }, this), isOwnComment(reply) && !reply.isDeleted && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"comment-action-btn edit\",\n                onClick: () => handleStartEdit(reply),\n                children: \"\\u270F\\uFE0F \\u7DE8\\u96C6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"comment-action-btn delete\",\n                onClick: () => handleDeleteComment(reply.id),\n                children: \"\\uD83D\\uDDD1\\uFE0F \\u524A\\u9664\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 19\n          }, this)]\n        }, reply.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 17\n        }, this))]\n      }, comment.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 222,\n    columnNumber: 5\n  }, this);\n}\n_s(CommentSection, \"s7LSHaQ4FDNcamZ5KTKBFvMu//Q=\");\n_c = CommentSection;\nexport default CommentSection;\nvar _c;\n$RefreshReg$(_c, \"CommentSection\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","CommentSection","postId","boardId","isAnonymous","_s","comments","setComments","loading","setLoading","newComment","setNewComment","replyTo","setReplyTo","replyContent","setReplyContent","editingId","setEditingId","editContent","setEditContent","likedComments","setLikedComments","user","JSON","parse","localStorage","getItem","fetchComments","response","get","data","likeStatuses","comment","likeCheck","id","params","userId","liked","e","error","console","handleSubmitComment","preventDefault","trim","alert","commentData","parseInt","content","anonymousId","Math","floor","random","post","handleSubmitReply","parentId","replyData","handleLikeComment","commentId","prev","map","likeCount","max","handleDeleteComment","window","confirm","delete","status","handleStartEdit","handleCancelEdit","handleSaveEdit","put","isOwnComment","getTimeAgo","dateString","now","Date","past","diffInMinutes","toLocaleDateString","topLevelComments","filter","c","getReplies","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","onSubmit","value","onChange","target","placeholder","rows","type","authorNickname","createdAt","onClick","isDeleted","reply","_c","$RefreshReg$"],"sources":["C:/Users/admin/Desktop/EJ2/frontend/src/pages/Board/CommentSection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport './CommentSection.css';\r\n\r\nfunction CommentSection({ postId, boardId, isAnonymous }) {\r\n  const [comments, setComments] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [newComment, setNewComment] = useState('');\r\n  const [replyTo, setReplyTo] = useState(null);\r\n  const [replyContent, setReplyContent] = useState('');\r\n  const [editingId, setEditingId] = useState(null);\r\n  const [editContent, setEditContent] = useState('');\r\n  const [likedComments, setLikedComments] = useState({});\r\n\r\n  // ÁèæÂú®„ÅÆ„É¶„Éº„Ç∂„ÉºÊÉÖÂ†±„ÇíÂèñÂæó\r\n  const user = JSON.parse(localStorage.getItem('user') || '{}');\r\n\r\n  useEffect(() => {\r\n    fetchComments();\r\n  }, [postId]);\r\n\r\n  const fetchComments = async () => {\r\n    try {\r\n      const response = await axios.get(`/api/comments/post/${postId}`);\r\n      setComments(response.data);\r\n\r\n      // Check like status for each comment\r\n      const user = JSON.parse(localStorage.getItem('user') || '{}');\r\n      const likeStatuses = {};\r\n      for (const comment of response.data) {\r\n        try {\r\n          const likeCheck = await axios.get(`/api/comments/${comment.id}/like/check`, {\r\n            params: { userId: user.id || null }\r\n          });\r\n          likeStatuses[comment.id] = likeCheck.data.liked;\r\n        } catch (e) {\r\n          likeStatuses[comment.id] = false;\r\n        }\r\n      }\r\n      setLikedComments(likeStatuses);\r\n\r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('„Ç≥„É°„É≥„Éà„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\r\n      setComments([]);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmitComment = async (e) => {\r\n    e.preventDefault();\r\n    if (!newComment.trim()) return;\r\n\r\n    // Get current user\r\n    const user = JSON.parse(localStorage.getItem('user') || '{}');\r\n    if (!user.id) {\r\n      alert('„É≠„Ç∞„Ç§„É≥„ÅåÂøÖË¶Å„Åß„Åô');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const commentData = {\r\n        postId: parseInt(postId),\r\n        userId: user.id,\r\n        content: newComment,\r\n        anonymousId: isAnonymous ? `ÂåøÂêç${Math.floor(Math.random() * 1000)}` : null\r\n      };\r\n\r\n      await axios.post('/api/comments', commentData);\r\n      setNewComment('');\r\n      fetchComments();\r\n    } catch (error) {\r\n      console.error('„Ç≥„É°„É≥„Éà„ÅÆ‰ΩúÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\r\n      alert('„Ç≥„É°„É≥„Éà„ÅÆ‰ΩúÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ');\r\n    }\r\n  };\r\n\r\n  const handleSubmitReply = async (e, parentId) => {\r\n    e.preventDefault();\r\n    if (!replyContent.trim()) return;\r\n\r\n    // Get current user\r\n    const user = JSON.parse(localStorage.getItem('user') || '{}');\r\n    if (!user.id) {\r\n      alert('„É≠„Ç∞„Ç§„É≥„ÅåÂøÖË¶Å„Åß„Åô');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const replyData = {\r\n        postId: parseInt(postId),\r\n        userId: user.id,\r\n        parentId: parentId,\r\n        content: replyContent,\r\n        anonymousId: isAnonymous ? `ÂåøÂêç${Math.floor(Math.random() * 1000)}` : null\r\n      };\r\n\r\n      await axios.post('/api/comments', replyData);\r\n      setReplyContent('');\r\n      setReplyTo(null);\r\n      fetchComments();\r\n    } catch (error) {\r\n      console.error('Ëøî‰ø°„ÅÆ‰ΩúÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\r\n      alert('Ëøî‰ø°„ÅÆ‰ΩúÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ');\r\n    }\r\n  };\r\n\r\n  const handleLikeComment = async (commentId) => {\r\n    try {\r\n      const user = JSON.parse(localStorage.getItem('user') || '{}');\r\n      const response = await axios.post(`/api/comments/${commentId}/like`, null, {\r\n        params: { userId: user.id || null }\r\n      });\r\n\r\n      // Update liked state locally\r\n      setLikedComments(prev => ({\r\n        ...prev,\r\n        [commentId]: response.data.liked\r\n      }));\r\n\r\n      // Update comment like count locally\r\n      setComments(prev => prev.map(comment => {\r\n        if (comment.id === commentId) {\r\n          return {\r\n            ...comment,\r\n            likeCount: response.data.liked\r\n              ? (comment.likeCount || 0) + 1\r\n              : Math.max(0, (comment.likeCount || 0) - 1)\r\n          };\r\n        }\r\n        return comment;\r\n      }));\r\n    } catch (error) {\r\n      console.error('„ÅÑ„ÅÑ„Å≠„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\r\n    }\r\n  };\r\n\r\n  const handleDeleteComment = async (commentId) => {\r\n    if (!window.confirm('„Ç≥„É°„É≥„Éà„ÇíÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü')) return;\r\n\r\n    if (!user.id) {\r\n      alert('„É≠„Ç∞„Ç§„É≥„ÅåÂøÖË¶Å„Åß„Åô');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await axios.delete(`/api/comments/${commentId}?userId=${user.id}`);\r\n      fetchComments();\r\n    } catch (error) {\r\n      console.error('„Ç≥„É°„É≥„Éà„ÅÆÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\r\n      if (error.response && error.response.status === 403) {\r\n        alert('Ëá™ÂàÜ„ÅÆ„Ç≥„É°„É≥„Éà„ÅÆ„ÅøÂâäÈô§„Åß„Åç„Åæ„Åô„ÄÇ');\r\n      } else {\r\n        alert('„Ç≥„É°„É≥„Éà„ÅÆÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ');\r\n      }\r\n    }\r\n  };\r\n\r\n  // „Ç≥„É°„É≥„ÉàÁ∑®ÈõÜÈñãÂßã\r\n  const handleStartEdit = (comment) => {\r\n    setEditingId(comment.id);\r\n    setEditContent(comment.content);\r\n  };\r\n\r\n  // „Ç≥„É°„É≥„ÉàÁ∑®ÈõÜ„Ç≠„É£„É≥„Çª„É´\r\n  const handleCancelEdit = () => {\r\n    setEditingId(null);\r\n    setEditContent('');\r\n  };\r\n\r\n  // „Ç≥„É°„É≥„ÉàÊõ¥Êñ∞„Çí‰øùÂ≠ò\r\n  const handleSaveEdit = async (commentId) => {\r\n    if (!editContent.trim()) return;\r\n\r\n    if (!user.id) {\r\n      alert('„É≠„Ç∞„Ç§„É≥„ÅåÂøÖË¶Å„Åß„Åô');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await axios.put(`/api/comments/${commentId}?userId=${user.id}`, {\r\n        content: editContent\r\n      });\r\n      setEditingId(null);\r\n      setEditContent('');\r\n      fetchComments();\r\n    } catch (error) {\r\n      console.error('„Ç≥„É°„É≥„Éà„ÅÆÊõ¥Êñ∞„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\r\n      if (error.response && error.response.status === 403) {\r\n        alert('Ëá™ÂàÜ„ÅÆ„Ç≥„É°„É≥„Éà„ÅÆ„ÅøÁ∑®ÈõÜ„Åß„Åç„Åæ„Åô„ÄÇ');\r\n      } else {\r\n        alert('„Ç≥„É°„É≥„Éà„ÅÆÊõ¥Êñ∞„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ');\r\n      }\r\n    }\r\n  };\r\n\r\n  // Êú¨‰∫∫„ÅÆ„Ç≥„É°„É≥„Éà„Åã„Å©„ÅÜ„Åã„ÇíÁ¢∫Ë™ç\r\n  const isOwnComment = (comment) => {\r\n    return user.id && comment.userId === user.id;\r\n  };\r\n\r\n  const getTimeAgo = (dateString) => {\r\n    const now = new Date();\r\n    const past = new Date(dateString);\r\n    const diffInMinutes = Math.floor((now - past) / (1000 * 60));\r\n\r\n    if (diffInMinutes < 1) return '„Åü„Å£„Åü‰ªä';\r\n    if (diffInMinutes < 60) return `${diffInMinutes}ÂàÜÂâç`;\r\n    if (diffInMinutes < 1440) return `${Math.floor(diffInMinutes / 60)}ÊôÇÈñìÂâç`;\r\n    if (diffInMinutes < 10080) return `${Math.floor(diffInMinutes / 1440)}Êó•Ââç`;\r\n    return past.toLocaleDateString('ja-JP');\r\n  };\r\n\r\n  const topLevelComments = comments.filter(c => !c.parentId);\r\n  const getReplies = (parentId) => comments.filter(c => c.parentId === parentId);\r\n\r\n  if (loading) {\r\n    return <div className=\"comments-loading\">„Ç≥„É°„É≥„Éà„ÇíË™≠„ÅøËæº„Åø‰∏≠...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"comments-section\">\r\n      <div className=\"comments-header\">\r\n        <h3>„Ç≥„É°„É≥„Éà {comments.length}</h3>\r\n      </div>\r\n\r\n      <form className=\"comment-form\" onSubmit={handleSubmitComment}>\r\n        <textarea\r\n          value={newComment}\r\n          onChange={(e) => setNewComment(e.target.value)}\r\n          placeholder=\"„Ç≥„É°„É≥„Éà„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ...\"\r\n          rows=\"3\"\r\n        />\r\n        <button type=\"submit\" className=\"submit-comment-btn\">\r\n          „Ç≥„É°„É≥„Éà„ÇíÊäïÁ®ø\r\n        </button>\r\n      </form>\r\n\r\n      <div className=\"comments-list\">\r\n        {topLevelComments.length === 0 ? (\r\n          <div className=\"no-comments\">\r\n            ÊúÄÂàù„ÅÆ„Ç≥„É°„É≥„Éà„ÇíÊõ∏„ÅÑ„Å¶„Åø„Åæ„Åó„Çá„ÅÜÔºÅ\r\n          </div>\r\n        ) : (\r\n          topLevelComments.map(comment => (\r\n            <div key={comment.id} className=\"comment-item\">\r\n              <div className=\"comment-header\">\r\n                <span className=\"comment-author\">\r\n                  {isAnonymous ? comment.anonymousId || 'ÂåøÂêç' : (comment.authorNickname || 'Unknown User')}\r\n                </span>\r\n                <span className=\"comment-time\">{getTimeAgo(comment.createdAt)}</span>\r\n              </div>\r\n\r\n              {editingId === comment.id ? (\r\n                <div className=\"comment-edit-form\">\r\n                  <textarea\r\n                    value={editContent}\r\n                    onChange={(e) => setEditContent(e.target.value)}\r\n                    rows=\"3\"\r\n                  />\r\n                  <div className=\"edit-actions\">\r\n                    <button onClick={handleCancelEdit}>„Ç≠„É£„É≥„Çª„É´</button>\r\n                    <button onClick={() => handleSaveEdit(comment.id)}>‰øùÂ≠ò</button>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"comment-content\">\r\n                  {comment.content}\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"comment-actions\">\r\n                <button\r\n                  className={`comment-action-btn ${likedComments[comment.id] ? 'liked' : ''}`}\r\n                  onClick={() => handleLikeComment(comment.id)}\r\n                >\r\n                  {likedComments[comment.id] ? 'üëç' : 'üëç'} {comment.likeCount || 0}\r\n                </button>\r\n                <button\r\n                  className=\"comment-action-btn\"\r\n                  onClick={() => setReplyTo(replyTo === comment.id ? null : comment.id)}\r\n                >\r\n                  üí¨ Ëøî‰ø°\r\n                </button>\r\n                {isOwnComment(comment) && !comment.isDeleted && (\r\n                  <>\r\n                    <button\r\n                      className=\"comment-action-btn edit\"\r\n                      onClick={() => handleStartEdit(comment)}\r\n                    >\r\n                      ‚úèÔ∏è Á∑®ÈõÜ\r\n                    </button>\r\n                    <button\r\n                      className=\"comment-action-btn delete\"\r\n                      onClick={() => handleDeleteComment(comment.id)}\r\n                    >\r\n                      üóëÔ∏è ÂâäÈô§\r\n                    </button>\r\n                  </>\r\n                )}\r\n              </div>\r\n\r\n              {replyTo === comment.id && (\r\n                <form\r\n                  className=\"reply-form\"\r\n                  onSubmit={(e) => handleSubmitReply(e, comment.id)}\r\n                >\r\n                  <textarea\r\n                    value={replyContent}\r\n                    onChange={(e) => setReplyContent(e.target.value)}\r\n                    placeholder=\"Ëøî‰ø°„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ...\"\r\n                    rows=\"2\"\r\n                  />\r\n                  <div className=\"reply-actions\">\r\n                    <button type=\"button\" onClick={() => setReplyTo(null)}>\r\n                      „Ç≠„É£„É≥„Çª„É´\r\n                    </button>\r\n                    <button type=\"submit\">Ëøî‰ø°„ÇíÊäïÁ®ø</button>\r\n                  </div>\r\n                </form>\r\n              )}\r\n\r\n              {getReplies(comment.id).map(reply => (\r\n                <div key={reply.id} className=\"comment-item reply\">\r\n                  <div className=\"comment-header\">\r\n                    <span className=\"comment-author\">\r\n                      {isAnonymous ? reply.anonymousId || 'ÂåøÂêç' : (reply.authorNickname || 'Unknown User')}\r\n                    </span>\r\n                    <span className=\"comment-time\">{getTimeAgo(reply.createdAt)}</span>\r\n                  </div>\r\n\r\n                  {editingId === reply.id ? (\r\n                    <div className=\"comment-edit-form\">\r\n                      <textarea\r\n                        value={editContent}\r\n                        onChange={(e) => setEditContent(e.target.value)}\r\n                        rows=\"2\"\r\n                      />\r\n                      <div className=\"edit-actions\">\r\n                        <button onClick={handleCancelEdit}>„Ç≠„É£„É≥„Çª„É´</button>\r\n                        <button onClick={() => handleSaveEdit(reply.id)}>‰øùÂ≠ò</button>\r\n                      </div>\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"comment-content\">\r\n                      {reply.content}\r\n                    </div>\r\n                  )}\r\n\r\n                  <div className=\"comment-actions\">\r\n                    <button\r\n                      className={`comment-action-btn ${likedComments[reply.id] ? 'liked' : ''}`}\r\n                      onClick={() => handleLikeComment(reply.id)}\r\n                    >\r\n                      {likedComments[reply.id] ? 'üëç' : 'üëç'} {reply.likeCount || 0}\r\n                    </button>\r\n                    {isOwnComment(reply) && !reply.isDeleted && (\r\n                      <>\r\n                        <button\r\n                          className=\"comment-action-btn edit\"\r\n                          onClick={() => handleStartEdit(reply)}\r\n                        >\r\n                          ‚úèÔ∏è Á∑®ÈõÜ\r\n                        </button>\r\n                        <button\r\n                          className=\"comment-action-btn delete\"\r\n                          onClick={() => handleDeleteComment(reply.id)}\r\n                        >\r\n                          üóëÔ∏è ÂâäÈô§\r\n                        </button>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ))\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CommentSection;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE9B,SAASC,cAAcA,CAAC;EAAEC,MAAM;EAAEC,OAAO;EAAEC;AAAY,CAAC,EAAE;EAAAC,EAAA;EACxD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACc,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACgB,UAAU,EAAEC,aAAa,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACoB,YAAY,EAAEC,eAAe,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACsB,SAAS,EAAEC,YAAY,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACwB,WAAW,EAAEC,cAAc,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAAC0B,aAAa,EAAEC,gBAAgB,CAAC,GAAG3B,QAAQ,CAAC,CAAC,CAAC,CAAC;;EAEtD;EACA,MAAM4B,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;EAE7D/B,SAAS,CAAC,MAAM;IACdgC,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAACzB,MAAM,CAAC,CAAC;EAEZ,MAAMyB,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMhC,KAAK,CAACiC,GAAG,CAAC,sBAAsB3B,MAAM,EAAE,CAAC;MAChEK,WAAW,CAACqB,QAAQ,CAACE,IAAI,CAAC;;MAE1B;MACA,MAAMR,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;MAC7D,MAAMK,YAAY,GAAG,CAAC,CAAC;MACvB,KAAK,MAAMC,OAAO,IAAIJ,QAAQ,CAACE,IAAI,EAAE;QACnC,IAAI;UACF,MAAMG,SAAS,GAAG,MAAMrC,KAAK,CAACiC,GAAG,CAAC,iBAAiBG,OAAO,CAACE,EAAE,aAAa,EAAE;YAC1EC,MAAM,EAAE;cAAEC,MAAM,EAAEd,IAAI,CAACY,EAAE,IAAI;YAAK;UACpC,CAAC,CAAC;UACFH,YAAY,CAACC,OAAO,CAACE,EAAE,CAAC,GAAGD,SAAS,CAACH,IAAI,CAACO,KAAK;QACjD,CAAC,CAAC,OAAOC,CAAC,EAAE;UACVP,YAAY,CAACC,OAAO,CAACE,EAAE,CAAC,GAAG,KAAK;QAClC;MACF;MACAb,gBAAgB,CAACU,YAAY,CAAC;MAE9BtB,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,OAAO8B,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MACzChC,WAAW,CAAC,EAAE,CAAC;MACfE,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMgC,mBAAmB,GAAG,MAAOH,CAAC,IAAK;IACvCA,CAAC,CAACI,cAAc,CAAC,CAAC;IAClB,IAAI,CAAChC,UAAU,CAACiC,IAAI,CAAC,CAAC,EAAE;;IAExB;IACA,MAAMrB,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;IAC7D,IAAI,CAACJ,IAAI,CAACY,EAAE,EAAE;MACZU,KAAK,CAAC,WAAW,CAAC;MAClB;IACF;IAEA,IAAI;MACF,MAAMC,WAAW,GAAG;QAClB3C,MAAM,EAAE4C,QAAQ,CAAC5C,MAAM,CAAC;QACxBkC,MAAM,EAAEd,IAAI,CAACY,EAAE;QACfa,OAAO,EAAErC,UAAU;QACnBsC,WAAW,EAAE5C,WAAW,GAAG,KAAK6C,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,GAAG;MACvE,CAAC;MAED,MAAMvD,KAAK,CAACwD,IAAI,CAAC,eAAe,EAAEP,WAAW,CAAC;MAC9ClC,aAAa,CAAC,EAAE,CAAC;MACjBgB,aAAa,CAAC,CAAC;IACjB,CAAC,CAAC,OAAOY,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACvCK,KAAK,CAAC,iBAAiB,CAAC;IAC1B;EACF,CAAC;EAED,MAAMS,iBAAiB,GAAG,MAAAA,CAAOf,CAAC,EAAEgB,QAAQ,KAAK;IAC/ChB,CAAC,CAACI,cAAc,CAAC,CAAC;IAClB,IAAI,CAAC5B,YAAY,CAAC6B,IAAI,CAAC,CAAC,EAAE;;IAE1B;IACA,MAAMrB,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;IAC7D,IAAI,CAACJ,IAAI,CAACY,EAAE,EAAE;MACZU,KAAK,CAAC,WAAW,CAAC;MAClB;IACF;IAEA,IAAI;MACF,MAAMW,SAAS,GAAG;QAChBrD,MAAM,EAAE4C,QAAQ,CAAC5C,MAAM,CAAC;QACxBkC,MAAM,EAAEd,IAAI,CAACY,EAAE;QACfoB,QAAQ,EAAEA,QAAQ;QAClBP,OAAO,EAAEjC,YAAY;QACrBkC,WAAW,EAAE5C,WAAW,GAAG,KAAK6C,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,GAAG;MACvE,CAAC;MAED,MAAMvD,KAAK,CAACwD,IAAI,CAAC,eAAe,EAAEG,SAAS,CAAC;MAC5CxC,eAAe,CAAC,EAAE,CAAC;MACnBF,UAAU,CAAC,IAAI,CAAC;MAChBc,aAAa,CAAC,CAAC;IACjB,CAAC,CAAC,OAAOY,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;MACrCK,KAAK,CAAC,eAAe,CAAC;IACxB;EACF,CAAC;EAED,MAAMY,iBAAiB,GAAG,MAAOC,SAAS,IAAK;IAC7C,IAAI;MACF,MAAMnC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;MAC7D,MAAME,QAAQ,GAAG,MAAMhC,KAAK,CAACwD,IAAI,CAAC,iBAAiBK,SAAS,OAAO,EAAE,IAAI,EAAE;QACzEtB,MAAM,EAAE;UAAEC,MAAM,EAAEd,IAAI,CAACY,EAAE,IAAI;QAAK;MACpC,CAAC,CAAC;;MAEF;MACAb,gBAAgB,CAACqC,IAAI,KAAK;QACxB,GAAGA,IAAI;QACP,CAACD,SAAS,GAAG7B,QAAQ,CAACE,IAAI,CAACO;MAC7B,CAAC,CAAC,CAAC;;MAEH;MACA9B,WAAW,CAACmD,IAAI,IAAIA,IAAI,CAACC,GAAG,CAAC3B,OAAO,IAAI;QACtC,IAAIA,OAAO,CAACE,EAAE,KAAKuB,SAAS,EAAE;UAC5B,OAAO;YACL,GAAGzB,OAAO;YACV4B,SAAS,EAAEhC,QAAQ,CAACE,IAAI,CAACO,KAAK,GAC1B,CAACL,OAAO,CAAC4B,SAAS,IAAI,CAAC,IAAI,CAAC,GAC5BX,IAAI,CAACY,GAAG,CAAC,CAAC,EAAE,CAAC7B,OAAO,CAAC4B,SAAS,IAAI,CAAC,IAAI,CAAC;UAC9C,CAAC;QACH;QACA,OAAO5B,OAAO;MAChB,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,OAAOO,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,aAAa,EAAEA,KAAK,CAAC;IACrC;EACF,CAAC;EAED,MAAMuB,mBAAmB,GAAG,MAAOL,SAAS,IAAK;IAC/C,IAAI,CAACM,MAAM,CAACC,OAAO,CAAC,cAAc,CAAC,EAAE;IAErC,IAAI,CAAC1C,IAAI,CAACY,EAAE,EAAE;MACZU,KAAK,CAAC,WAAW,CAAC;MAClB;IACF;IAEA,IAAI;MACF,MAAMhD,KAAK,CAACqE,MAAM,CAAC,iBAAiBR,SAAS,WAAWnC,IAAI,CAACY,EAAE,EAAE,CAAC;MAClEP,aAAa,CAAC,CAAC;IACjB,CAAC,CAAC,OAAOY,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACvC,IAAIA,KAAK,CAACX,QAAQ,IAAIW,KAAK,CAACX,QAAQ,CAACsC,MAAM,KAAK,GAAG,EAAE;QACnDtB,KAAK,CAAC,kBAAkB,CAAC;MAC3B,CAAC,MAAM;QACLA,KAAK,CAAC,iBAAiB,CAAC;MAC1B;IACF;EACF,CAAC;;EAED;EACA,MAAMuB,eAAe,GAAInC,OAAO,IAAK;IACnCf,YAAY,CAACe,OAAO,CAACE,EAAE,CAAC;IACxBf,cAAc,CAACa,OAAO,CAACe,OAAO,CAAC;EACjC,CAAC;;EAED;EACA,MAAMqB,gBAAgB,GAAGA,CAAA,KAAM;IAC7BnD,YAAY,CAAC,IAAI,CAAC;IAClBE,cAAc,CAAC,EAAE,CAAC;EACpB,CAAC;;EAED;EACA,MAAMkD,cAAc,GAAG,MAAOZ,SAAS,IAAK;IAC1C,IAAI,CAACvC,WAAW,CAACyB,IAAI,CAAC,CAAC,EAAE;IAEzB,IAAI,CAACrB,IAAI,CAACY,EAAE,EAAE;MACZU,KAAK,CAAC,WAAW,CAAC;MAClB;IACF;IAEA,IAAI;MACF,MAAMhD,KAAK,CAAC0E,GAAG,CAAC,iBAAiBb,SAAS,WAAWnC,IAAI,CAACY,EAAE,EAAE,EAAE;QAC9Da,OAAO,EAAE7B;MACX,CAAC,CAAC;MACFD,YAAY,CAAC,IAAI,CAAC;MAClBE,cAAc,CAAC,EAAE,CAAC;MAClBQ,aAAa,CAAC,CAAC;IACjB,CAAC,CAAC,OAAOY,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACvC,IAAIA,KAAK,CAACX,QAAQ,IAAIW,KAAK,CAACX,QAAQ,CAACsC,MAAM,KAAK,GAAG,EAAE;QACnDtB,KAAK,CAAC,kBAAkB,CAAC;MAC3B,CAAC,MAAM;QACLA,KAAK,CAAC,iBAAiB,CAAC;MAC1B;IACF;EACF,CAAC;;EAED;EACA,MAAM2B,YAAY,GAAIvC,OAAO,IAAK;IAChC,OAAOV,IAAI,CAACY,EAAE,IAAIF,OAAO,CAACI,MAAM,KAAKd,IAAI,CAACY,EAAE;EAC9C,CAAC;EAED,MAAMsC,UAAU,GAAIC,UAAU,IAAK;IACjC,MAAMC,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC;IACtB,MAAMC,IAAI,GAAG,IAAID,IAAI,CAACF,UAAU,CAAC;IACjC,MAAMI,aAAa,GAAG5B,IAAI,CAACC,KAAK,CAAC,CAACwB,GAAG,GAAGE,IAAI,KAAK,IAAI,GAAG,EAAE,CAAC,CAAC;IAE5D,IAAIC,aAAa,GAAG,CAAC,EAAE,OAAO,MAAM;IACpC,IAAIA,aAAa,GAAG,EAAE,EAAE,OAAO,GAAGA,aAAa,IAAI;IACnD,IAAIA,aAAa,GAAG,IAAI,EAAE,OAAO,GAAG5B,IAAI,CAACC,KAAK,CAAC2B,aAAa,GAAG,EAAE,CAAC,KAAK;IACvE,IAAIA,aAAa,GAAG,KAAK,EAAE,OAAO,GAAG5B,IAAI,CAACC,KAAK,CAAC2B,aAAa,GAAG,IAAI,CAAC,IAAI;IACzE,OAAOD,IAAI,CAACE,kBAAkB,CAAC,OAAO,CAAC;EACzC,CAAC;EAED,MAAMC,gBAAgB,GAAGzE,QAAQ,CAAC0E,MAAM,CAACC,CAAC,IAAI,CAACA,CAAC,CAAC3B,QAAQ,CAAC;EAC1D,MAAM4B,UAAU,GAAI5B,QAAQ,IAAKhD,QAAQ,CAAC0E,MAAM,CAACC,CAAC,IAAIA,CAAC,CAAC3B,QAAQ,KAAKA,QAAQ,CAAC;EAE9E,IAAI9C,OAAO,EAAE;IACX,oBAAOV,OAAA;MAAKqF,SAAS,EAAC,kBAAkB;MAAAC,QAAA,EAAC;IAAa;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC9D;EAEA,oBACE1F,OAAA;IAAKqF,SAAS,EAAC,kBAAkB;IAAAC,QAAA,gBAC/BtF,OAAA;MAAKqF,SAAS,EAAC,iBAAiB;MAAAC,QAAA,eAC9BtF,OAAA;QAAAsF,QAAA,GAAI,2BAAK,EAAC9E,QAAQ,CAACmF,MAAM;MAAA;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5B,CAAC,eAEN1F,OAAA;MAAMqF,SAAS,EAAC,cAAc;MAACO,QAAQ,EAAEjD,mBAAoB;MAAA2C,QAAA,gBAC3DtF,OAAA;QACE6F,KAAK,EAAEjF,UAAW;QAClBkF,QAAQ,EAAGtD,CAAC,IAAK3B,aAAa,CAAC2B,CAAC,CAACuD,MAAM,CAACF,KAAK,CAAE;QAC/CG,WAAW,EAAC,mFAAkB;QAC9BC,IAAI,EAAC;MAAG;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eACF1F,OAAA;QAAQkG,IAAI,EAAC,QAAQ;QAACb,SAAS,EAAC,oBAAoB;QAAAC,QAAA,EAAC;MAErD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAEP1F,OAAA;MAAKqF,SAAS,EAAC,eAAe;MAAAC,QAAA,EAC3BL,gBAAgB,CAACU,MAAM,KAAK,CAAC,gBAC5B3F,OAAA;QAAKqF,SAAS,EAAC,aAAa;QAAAC,QAAA,EAAC;MAE7B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,GAENT,gBAAgB,CAACpB,GAAG,CAAC3B,OAAO,iBAC1BlC,OAAA;QAAsBqF,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC5CtF,OAAA;UAAKqF,SAAS,EAAC,gBAAgB;UAAAC,QAAA,gBAC7BtF,OAAA;YAAMqF,SAAS,EAAC,gBAAgB;YAAAC,QAAA,EAC7BhF,WAAW,GAAG4B,OAAO,CAACgB,WAAW,IAAI,IAAI,GAAIhB,OAAO,CAACiE,cAAc,IAAI;UAAe;YAAAZ,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnF,CAAC,eACP1F,OAAA;YAAMqF,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAEZ,UAAU,CAACxC,OAAO,CAACkE,SAAS;UAAC;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClE,CAAC,EAELxE,SAAS,KAAKgB,OAAO,CAACE,EAAE,gBACvBpC,OAAA;UAAKqF,SAAS,EAAC,mBAAmB;UAAAC,QAAA,gBAChCtF,OAAA;YACE6F,KAAK,EAAEzE,WAAY;YACnB0E,QAAQ,EAAGtD,CAAC,IAAKnB,cAAc,CAACmB,CAAC,CAACuD,MAAM,CAACF,KAAK,CAAE;YAChDI,IAAI,EAAC;UAAG;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC,eACF1F,OAAA;YAAKqF,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAC3BtF,OAAA;cAAQqG,OAAO,EAAE/B,gBAAiB;cAAAgB,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACjD1F,OAAA;cAAQqG,OAAO,EAAEA,CAAA,KAAM9B,cAAc,CAACrC,OAAO,CAACE,EAAE,CAAE;cAAAkD,QAAA,EAAC;YAAE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3D,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,gBAEN1F,OAAA;UAAKqF,SAAS,EAAC,iBAAiB;UAAAC,QAAA,EAC7BpD,OAAO,CAACe;QAAO;UAAAsC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACb,CACN,eAED1F,OAAA;UAAKqF,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC9BtF,OAAA;YACEqF,SAAS,EAAE,sBAAsB/D,aAAa,CAACY,OAAO,CAACE,EAAE,CAAC,GAAG,OAAO,GAAG,EAAE,EAAG;YAC5EiE,OAAO,EAAEA,CAAA,KAAM3C,iBAAiB,CAACxB,OAAO,CAACE,EAAE,CAAE;YAAAkD,QAAA,GAE5ChE,aAAa,CAACY,OAAO,CAACE,EAAE,CAAC,GAAG,IAAI,GAAG,IAAI,EAAC,GAAC,EAACF,OAAO,CAAC4B,SAAS,IAAI,CAAC;UAAA;YAAAyB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3D,CAAC,eACT1F,OAAA;YACEqF,SAAS,EAAC,oBAAoB;YAC9BgB,OAAO,EAAEA,CAAA,KAAMtF,UAAU,CAACD,OAAO,KAAKoB,OAAO,CAACE,EAAE,GAAG,IAAI,GAAGF,OAAO,CAACE,EAAE,CAAE;YAAAkD,QAAA,EACvE;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EACRjB,YAAY,CAACvC,OAAO,CAAC,IAAI,CAACA,OAAO,CAACoE,SAAS,iBAC1CtG,OAAA,CAAAE,SAAA;YAAAoF,QAAA,gBACEtF,OAAA;cACEqF,SAAS,EAAC,yBAAyB;cACnCgB,OAAO,EAAEA,CAAA,KAAMhC,eAAe,CAACnC,OAAO,CAAE;cAAAoD,QAAA,EACzC;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT1F,OAAA;cACEqF,SAAS,EAAC,2BAA2B;cACrCgB,OAAO,EAAEA,CAAA,KAAMrC,mBAAmB,CAAC9B,OAAO,CAACE,EAAE,CAAE;cAAAkD,QAAA,EAChD;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA,eACT,CACH;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,EAEL5E,OAAO,KAAKoB,OAAO,CAACE,EAAE,iBACrBpC,OAAA;UACEqF,SAAS,EAAC,YAAY;UACtBO,QAAQ,EAAGpD,CAAC,IAAKe,iBAAiB,CAACf,CAAC,EAAEN,OAAO,CAACE,EAAE,CAAE;UAAAkD,QAAA,gBAElDtF,OAAA;YACE6F,KAAK,EAAE7E,YAAa;YACpB8E,QAAQ,EAAGtD,CAAC,IAAKvB,eAAe,CAACuB,CAAC,CAACuD,MAAM,CAACF,KAAK,CAAE;YACjDG,WAAW,EAAC,uEAAgB;YAC5BC,IAAI,EAAC;UAAG;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC,eACF1F,OAAA;YAAKqF,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC5BtF,OAAA;cAAQkG,IAAI,EAAC,QAAQ;cAACG,OAAO,EAAEA,CAAA,KAAMtF,UAAU,CAAC,IAAI,CAAE;cAAAuE,QAAA,EAAC;YAEvD;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT1F,OAAA;cAAQkG,IAAI,EAAC,QAAQ;cAAAZ,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CACP,EAEAN,UAAU,CAAClD,OAAO,CAACE,EAAE,CAAC,CAACyB,GAAG,CAAC0C,KAAK,iBAC/BvG,OAAA;UAAoBqF,SAAS,EAAC,oBAAoB;UAAAC,QAAA,gBAChDtF,OAAA;YAAKqF,SAAS,EAAC,gBAAgB;YAAAC,QAAA,gBAC7BtF,OAAA;cAAMqF,SAAS,EAAC,gBAAgB;cAAAC,QAAA,EAC7BhF,WAAW,GAAGiG,KAAK,CAACrD,WAAW,IAAI,IAAI,GAAIqD,KAAK,CAACJ,cAAc,IAAI;YAAe;cAAAZ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/E,CAAC,eACP1F,OAAA;cAAMqF,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAEZ,UAAU,CAAC6B,KAAK,CAACH,SAAS;YAAC;cAAAb,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChE,CAAC,EAELxE,SAAS,KAAKqF,KAAK,CAACnE,EAAE,gBACrBpC,OAAA;YAAKqF,SAAS,EAAC,mBAAmB;YAAAC,QAAA,gBAChCtF,OAAA;cACE6F,KAAK,EAAEzE,WAAY;cACnB0E,QAAQ,EAAGtD,CAAC,IAAKnB,cAAc,CAACmB,CAAC,CAACuD,MAAM,CAACF,KAAK,CAAE;cAChDI,IAAI,EAAC;YAAG;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC,eACF1F,OAAA;cAAKqF,SAAS,EAAC,cAAc;cAAAC,QAAA,gBAC3BtF,OAAA;gBAAQqG,OAAO,EAAE/B,gBAAiB;gBAAAgB,QAAA,EAAC;cAAK;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACjD1F,OAAA;gBAAQqG,OAAO,EAAEA,CAAA,KAAM9B,cAAc,CAACgC,KAAK,CAACnE,EAAE,CAAE;gBAAAkD,QAAA,EAAC;cAAE;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,gBAEN1F,OAAA;YAAKqF,SAAS,EAAC,iBAAiB;YAAAC,QAAA,EAC7BiB,KAAK,CAACtD;UAAO;YAAAsC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACX,CACN,eAED1F,OAAA;YAAKqF,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC9BtF,OAAA;cACEqF,SAAS,EAAE,sBAAsB/D,aAAa,CAACiF,KAAK,CAACnE,EAAE,CAAC,GAAG,OAAO,GAAG,EAAE,EAAG;cAC1EiE,OAAO,EAAEA,CAAA,KAAM3C,iBAAiB,CAAC6C,KAAK,CAACnE,EAAE,CAAE;cAAAkD,QAAA,GAE1ChE,aAAa,CAACiF,KAAK,CAACnE,EAAE,CAAC,GAAG,IAAI,GAAG,IAAI,EAAC,GAAC,EAACmE,KAAK,CAACzC,SAAS,IAAI,CAAC;YAAA;cAAAyB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvD,CAAC,EACRjB,YAAY,CAAC8B,KAAK,CAAC,IAAI,CAACA,KAAK,CAACD,SAAS,iBACtCtG,OAAA,CAAAE,SAAA;cAAAoF,QAAA,gBACEtF,OAAA;gBACEqF,SAAS,EAAC,yBAAyB;gBACnCgB,OAAO,EAAEA,CAAA,KAAMhC,eAAe,CAACkC,KAAK,CAAE;gBAAAjB,QAAA,EACvC;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACT1F,OAAA;gBACEqF,SAAS,EAAC,2BAA2B;gBACrCgB,OAAO,EAAEA,CAAA,KAAMrC,mBAAmB,CAACuC,KAAK,CAACnE,EAAE,CAAE;gBAAAkD,QAAA,EAC9C;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA,eACT,CACH;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA,GAjDEa,KAAK,CAACnE,EAAE;UAAAmD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAkDb,CACN,CAAC;MAAA,GAjIMxD,OAAO,CAACE,EAAE;QAAAmD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAkIf,CACN;IACF;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACnF,EAAA,CAzXQJ,cAAc;AAAAqG,EAAA,GAAdrG,cAAc;AA2XvB,eAAeA,cAAc;AAAC,IAAAqG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}