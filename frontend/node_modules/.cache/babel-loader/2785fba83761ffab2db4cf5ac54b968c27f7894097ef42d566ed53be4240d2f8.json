{"ast":null,"code":"var _jsxFileName = \"/Users/yunsu-in/Downloads/EJ2/frontend/src/pages/Board/CommentSection.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './CommentSection.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction CommentSection({\n  postId,\n  boardId,\n  isAnonymous\n}) {\n  _s();\n  const [comments, setComments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [newComment, setNewComment] = useState('');\n  const [replyTo, setReplyTo] = useState(null);\n  const [replyContent, setReplyContent] = useState('');\n  const [editingId, setEditingId] = useState(null);\n  const [editContent, setEditContent] = useState('');\n\n  // ÁèæÂú®„ÅÆ„É¶„Éº„Ç∂„ÉºÊÉÖÂ†±„ÇíÂèñÂæó\n  const user = JSON.parse(localStorage.getItem('user') || '{}');\n  useEffect(() => {\n    fetchComments();\n  }, [postId]);\n  const fetchComments = async () => {\n    try {\n      const response = await axios.get(`/api/comments/post/${postId}`);\n      setComments(response.data);\n      setLoading(false);\n    } catch (error) {\n      console.error('„Ç≥„É°„É≥„Éà„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\n      setComments([]);\n      setLoading(false);\n    }\n  };\n  const handleSubmitComment = async e => {\n    e.preventDefault();\n    if (!newComment.trim()) return;\n\n    // Get current user\n    const user = JSON.parse(localStorage.getItem('user') || '{}');\n    if (!user.id) {\n      alert('„É≠„Ç∞„Ç§„É≥„ÅåÂøÖË¶Å„Åß„Åô');\n      return;\n    }\n    try {\n      const commentData = {\n        postId: parseInt(postId),\n        userId: user.id,\n        content: newComment,\n        anonymousId: isAnonymous ? `ÂåøÂêç${Math.floor(Math.random() * 1000)}` : null\n      };\n      await axios.post('/api/comments', commentData);\n      setNewComment('');\n      fetchComments();\n    } catch (error) {\n      console.error('„Ç≥„É°„É≥„Éà„ÅÆ‰ΩúÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\n      alert('„Ç≥„É°„É≥„Éà„ÅÆ‰ΩúÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ');\n    }\n  };\n  const handleSubmitReply = async (e, parentId) => {\n    e.preventDefault();\n    if (!replyContent.trim()) return;\n\n    // Get current user\n    const user = JSON.parse(localStorage.getItem('user') || '{}');\n    if (!user.id) {\n      alert('„É≠„Ç∞„Ç§„É≥„ÅåÂøÖË¶Å„Åß„Åô');\n      return;\n    }\n    try {\n      const replyData = {\n        postId: parseInt(postId),\n        userId: user.id,\n        parentId: parentId,\n        content: replyContent,\n        anonymousId: isAnonymous ? `ÂåøÂêç${Math.floor(Math.random() * 1000)}` : null\n      };\n      await axios.post('/api/comments', replyData);\n      setReplyContent('');\n      setReplyTo(null);\n      fetchComments();\n    } catch (error) {\n      console.error('Ëøî‰ø°„ÅÆ‰ΩúÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\n      alert('Ëøî‰ø°„ÅÆ‰ΩúÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ');\n    }\n  };\n  const handleLikeComment = async commentId => {\n    try {\n      await axios.post(`/api/comments/${commentId}/like`);\n      fetchComments();\n    } catch (error) {\n      console.error('„ÅÑ„ÅÑ„Å≠„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\n    }\n  };\n  const handleDeleteComment = async commentId => {\n    if (!window.confirm('„Ç≥„É°„É≥„Éà„ÇíÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü')) return;\n    if (!user.id) {\n      alert('„É≠„Ç∞„Ç§„É≥„ÅåÂøÖË¶Å„Åß„Åô');\n      return;\n    }\n    try {\n      await axios.delete(`/api/comments/${commentId}?userId=${user.id}`);\n      fetchComments();\n    } catch (error) {\n      console.error('„Ç≥„É°„É≥„Éà„ÅÆÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\n      if (error.response && error.response.status === 403) {\n        alert('Ëá™ÂàÜ„ÅÆ„Ç≥„É°„É≥„Éà„ÅÆ„ÅøÂâäÈô§„Åß„Åç„Åæ„Åô„ÄÇ');\n      } else {\n        alert('„Ç≥„É°„É≥„Éà„ÅÆÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ');\n      }\n    }\n  };\n\n  // „Ç≥„É°„É≥„ÉàÁ∑®ÈõÜÈñãÂßã\n  const handleStartEdit = comment => {\n    setEditingId(comment.id);\n    setEditContent(comment.content);\n  };\n\n  // „Ç≥„É°„É≥„ÉàÁ∑®ÈõÜ„Ç≠„É£„É≥„Çª„É´\n  const handleCancelEdit = () => {\n    setEditingId(null);\n    setEditContent('');\n  };\n\n  // „Ç≥„É°„É≥„ÉàÊõ¥Êñ∞„Çí‰øùÂ≠ò\n  const handleSaveEdit = async commentId => {\n    if (!editContent.trim()) return;\n    if (!user.id) {\n      alert('„É≠„Ç∞„Ç§„É≥„ÅåÂøÖË¶Å„Åß„Åô');\n      return;\n    }\n    try {\n      await axios.put(`/api/comments/${commentId}?userId=${user.id}`, {\n        content: editContent\n      });\n      setEditingId(null);\n      setEditContent('');\n      fetchComments();\n    } catch (error) {\n      console.error('„Ç≥„É°„É≥„Éà„ÅÆÊõ¥Êñ∞„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\n      if (error.response && error.response.status === 403) {\n        alert('Ëá™ÂàÜ„ÅÆ„Ç≥„É°„É≥„Éà„ÅÆ„ÅøÁ∑®ÈõÜ„Åß„Åç„Åæ„Åô„ÄÇ');\n      } else {\n        alert('„Ç≥„É°„É≥„Éà„ÅÆÊõ¥Êñ∞„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ');\n      }\n    }\n  };\n\n  // Êú¨‰∫∫„ÅÆ„Ç≥„É°„É≥„Éà„Åã„Å©„ÅÜ„Åã„ÇíÁ¢∫Ë™ç\n  const isOwnComment = comment => {\n    return user.id && comment.userId === user.id;\n  };\n  const getTimeAgo = dateString => {\n    const now = new Date();\n    const past = new Date(dateString);\n    const diffInMinutes = Math.floor((now - past) / (1000 * 60));\n    if (diffInMinutes < 1) return '„Åü„Å£„Åü‰ªä';\n    if (diffInMinutes < 60) return `${diffInMinutes}ÂàÜÂâç`;\n    if (diffInMinutes < 1440) return `${Math.floor(diffInMinutes / 60)}ÊôÇÈñìÂâç`;\n    if (diffInMinutes < 10080) return `${Math.floor(diffInMinutes / 1440)}Êó•Ââç`;\n    return past.toLocaleDateString('ja-JP');\n  };\n  const topLevelComments = comments.filter(c => !c.parentId);\n  const getReplies = parentId => comments.filter(c => c.parentId === parentId);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comments-loading\",\n      children: \"\\u30B3\\u30E1\\u30F3\\u30C8\\u3092\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comments-section\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comments-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"\\u30B3\\u30E1\\u30F3\\u30C8 \", comments.length]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"comment-form\",\n      onSubmit: handleSubmitComment,\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: newComment,\n        onChange: e => setNewComment(e.target.value),\n        placeholder: \"\\u30B3\\u30E1\\u30F3\\u30C8\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044...\",\n        rows: \"3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"submit-comment-btn\",\n        children: \"\\u30B3\\u30E1\\u30F3\\u30C8\\u3092\\u6295\\u7A3F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comments-list\",\n      children: topLevelComments.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-comments\",\n        children: \"\\u6700\\u521D\\u306E\\u30B3\\u30E1\\u30F3\\u30C8\\u3092\\u66F8\\u3044\\u3066\\u307F\\u307E\\u3057\\u3087\\u3046\\uFF01\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 11\n      }, this) : topLevelComments.map(comment => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"comment-author\",\n            children: isAnonymous ? comment.anonymousId || 'ÂåøÂêç' : comment.authorNickname || 'Unknown User'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"comment-time\",\n            children: getTimeAgo(comment.createdAt)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 15\n        }, this), editingId === comment.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-edit-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: editContent,\n            onChange: e => setEditContent(e.target.value),\n            rows: \"3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"edit-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCancelEdit,\n              children: \"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleSaveEdit(comment.id),\n              children: \"\\u4FDD\\u5B58\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-content\",\n          children: comment.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"comment-action-btn\",\n            onClick: () => handleLikeComment(comment.id),\n            children: [\"\\uD83D\\uDC4D \", comment.likeCount || 0]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 235,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"comment-action-btn\",\n            onClick: () => setReplyTo(replyTo === comment.id ? null : comment.id),\n            children: \"\\uD83D\\uDCAC \\u8FD4\\u4FE1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 17\n          }, this), isOwnComment(comment) && !comment.isDeleted && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"comment-action-btn edit\",\n              onClick: () => handleStartEdit(comment),\n              children: \"\\u270F\\uFE0F \\u7DE8\\u96C6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"comment-action-btn delete\",\n              onClick: () => handleDeleteComment(comment.id),\n              children: \"\\uD83D\\uDDD1\\uFE0F \\u524A\\u9664\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 15\n        }, this), replyTo === comment.id && /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"reply-form\",\n          onSubmit: e => handleSubmitReply(e, comment.id),\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: replyContent,\n            onChange: e => setReplyContent(e.target.value),\n            placeholder: \"\\u8FD4\\u4FE1\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044...\",\n            rows: \"2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"reply-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => setReplyTo(null),\n              children: \"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              children: \"\\u8FD4\\u4FE1\\u3092\\u6295\\u7A3F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 17\n        }, this), getReplies(comment.id).map(reply => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-item reply\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"comment-author\",\n              children: isAnonymous ? reply.anonymousId || 'ÂåøÂêç' : `„É¶„Éº„Ç∂„Éº${reply.userId}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"comment-time\",\n              children: getTimeAgo(reply.createdAt)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 19\n          }, this), editingId === reply.id ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment-edit-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: editContent,\n              onChange: e => setEditContent(e.target.value),\n              rows: \"2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"edit-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleCancelEdit,\n                children: \"\\u30AD\\u30E3\\u30F3\\u30BB\\u30EB\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleSaveEdit(reply.id),\n                children: \"\\u4FDD\\u5B58\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 301,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 21\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment-content\",\n            children: reply.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"comment-action-btn\",\n              onClick: () => handleLikeComment(reply.id),\n              children: [\"\\uD83D\\uDC4D \", reply.likeCount || 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 21\n            }, this), isOwnComment(reply) && !reply.isDeleted && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"comment-action-btn edit\",\n                onClick: () => handleStartEdit(reply),\n                children: \"\\u270F\\uFE0F \\u7DE8\\u96C6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"comment-action-btn delete\",\n                onClick: () => handleDeleteComment(reply.id),\n                children: \"\\uD83D\\uDDD1\\uFE0F \\u524A\\u9664\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 19\n          }, this)]\n        }, reply.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 17\n        }, this))]\n      }, comment.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 184,\n    columnNumber: 5\n  }, this);\n}\n_s(CommentSection, \"V5OQPbKL+BlhjE8Mwh26FmZO9K4=\");\n_c = CommentSection;\nexport default CommentSection;\nvar _c;\n$RefreshReg$(_c, \"CommentSection\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","CommentSection","postId","boardId","isAnonymous","_s","comments","setComments","loading","setLoading","newComment","setNewComment","replyTo","setReplyTo","replyContent","setReplyContent","editingId","setEditingId","editContent","setEditContent","user","JSON","parse","localStorage","getItem","fetchComments","response","get","data","error","console","handleSubmitComment","e","preventDefault","trim","id","alert","commentData","parseInt","userId","content","anonymousId","Math","floor","random","post","handleSubmitReply","parentId","replyData","handleLikeComment","commentId","handleDeleteComment","window","confirm","delete","status","handleStartEdit","comment","handleCancelEdit","handleSaveEdit","put","isOwnComment","getTimeAgo","dateString","now","Date","past","diffInMinutes","toLocaleDateString","topLevelComments","filter","c","getReplies","className","children","fileName","_jsxFileName","lineNumber","columnNumber","length","onSubmit","value","onChange","target","placeholder","rows","type","map","authorNickname","createdAt","onClick","likeCount","isDeleted","reply","_c","$RefreshReg$"],"sources":["/Users/yunsu-in/Downloads/EJ2/frontend/src/pages/Board/CommentSection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport './CommentSection.css';\n\nfunction CommentSection({ postId, boardId, isAnonymous }) {\n  const [comments, setComments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [newComment, setNewComment] = useState('');\n  const [replyTo, setReplyTo] = useState(null);\n  const [replyContent, setReplyContent] = useState('');\n  const [editingId, setEditingId] = useState(null);\n  const [editContent, setEditContent] = useState('');\n\n  // ÁèæÂú®„ÅÆ„É¶„Éº„Ç∂„ÉºÊÉÖÂ†±„ÇíÂèñÂæó\n  const user = JSON.parse(localStorage.getItem('user') || '{}');\n\n  useEffect(() => {\n    fetchComments();\n  }, [postId]);\n\n  const fetchComments = async () => {\n    try {\n      const response = await axios.get(`/api/comments/post/${postId}`);\n      setComments(response.data);\n      setLoading(false);\n    } catch (error) {\n      console.error('„Ç≥„É°„É≥„Éà„ÅÆË™≠„ÅøËæº„Åø„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\n      setComments([]);\n      setLoading(false);\n    }\n  };\n\n  const handleSubmitComment = async (e) => {\n    e.preventDefault();\n    if (!newComment.trim()) return;\n\n    // Get current user\n    const user = JSON.parse(localStorage.getItem('user') || '{}');\n    if (!user.id) {\n      alert('„É≠„Ç∞„Ç§„É≥„ÅåÂøÖË¶Å„Åß„Åô');\n      return;\n    }\n\n    try {\n      const commentData = {\n        postId: parseInt(postId),\n        userId: user.id,\n        content: newComment,\n        anonymousId: isAnonymous ? `ÂåøÂêç${Math.floor(Math.random() * 1000)}` : null\n      };\n\n      await axios.post('/api/comments', commentData);\n      setNewComment('');\n      fetchComments();\n    } catch (error) {\n      console.error('„Ç≥„É°„É≥„Éà„ÅÆ‰ΩúÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\n      alert('„Ç≥„É°„É≥„Éà„ÅÆ‰ΩúÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ');\n    }\n  };\n\n  const handleSubmitReply = async (e, parentId) => {\n    e.preventDefault();\n    if (!replyContent.trim()) return;\n\n    // Get current user\n    const user = JSON.parse(localStorage.getItem('user') || '{}');\n    if (!user.id) {\n      alert('„É≠„Ç∞„Ç§„É≥„ÅåÂøÖË¶Å„Åß„Åô');\n      return;\n    }\n\n    try {\n      const replyData = {\n        postId: parseInt(postId),\n        userId: user.id,\n        parentId: parentId,\n        content: replyContent,\n        anonymousId: isAnonymous ? `ÂåøÂêç${Math.floor(Math.random() * 1000)}` : null\n      };\n\n      await axios.post('/api/comments', replyData);\n      setReplyContent('');\n      setReplyTo(null);\n      fetchComments();\n    } catch (error) {\n      console.error('Ëøî‰ø°„ÅÆ‰ΩúÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\n      alert('Ëøî‰ø°„ÅÆ‰ΩúÊàê„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ');\n    }\n  };\n\n  const handleLikeComment = async (commentId) => {\n    try {\n      await axios.post(`/api/comments/${commentId}/like`);\n      fetchComments();\n    } catch (error) {\n      console.error('„ÅÑ„ÅÑ„Å≠„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\n    }\n  };\n\n  const handleDeleteComment = async (commentId) => {\n    if (!window.confirm('„Ç≥„É°„É≥„Éà„ÇíÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü')) return;\n\n    if (!user.id) {\n      alert('„É≠„Ç∞„Ç§„É≥„ÅåÂøÖË¶Å„Åß„Åô');\n      return;\n    }\n\n    try {\n      await axios.delete(`/api/comments/${commentId}?userId=${user.id}`);\n      fetchComments();\n    } catch (error) {\n      console.error('„Ç≥„É°„É≥„Éà„ÅÆÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\n      if (error.response && error.response.status === 403) {\n        alert('Ëá™ÂàÜ„ÅÆ„Ç≥„É°„É≥„Éà„ÅÆ„ÅøÂâäÈô§„Åß„Åç„Åæ„Åô„ÄÇ');\n      } else {\n        alert('„Ç≥„É°„É≥„Éà„ÅÆÂâäÈô§„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ');\n      }\n    }\n  };\n\n  // „Ç≥„É°„É≥„ÉàÁ∑®ÈõÜÈñãÂßã\n  const handleStartEdit = (comment) => {\n    setEditingId(comment.id);\n    setEditContent(comment.content);\n  };\n\n  // „Ç≥„É°„É≥„ÉàÁ∑®ÈõÜ„Ç≠„É£„É≥„Çª„É´\n  const handleCancelEdit = () => {\n    setEditingId(null);\n    setEditContent('');\n  };\n\n  // „Ç≥„É°„É≥„ÉàÊõ¥Êñ∞„Çí‰øùÂ≠ò\n  const handleSaveEdit = async (commentId) => {\n    if (!editContent.trim()) return;\n\n    if (!user.id) {\n      alert('„É≠„Ç∞„Ç§„É≥„ÅåÂøÖË¶Å„Åß„Åô');\n      return;\n    }\n\n    try {\n      await axios.put(`/api/comments/${commentId}?userId=${user.id}`, {\n        content: editContent\n      });\n      setEditingId(null);\n      setEditContent('');\n      fetchComments();\n    } catch (error) {\n      console.error('„Ç≥„É°„É≥„Éà„ÅÆÊõ¥Êñ∞„Å´Â§±Êïó„Åó„Åæ„Åó„Åü:', error);\n      if (error.response && error.response.status === 403) {\n        alert('Ëá™ÂàÜ„ÅÆ„Ç≥„É°„É≥„Éà„ÅÆ„ÅøÁ∑®ÈõÜ„Åß„Åç„Åæ„Åô„ÄÇ');\n      } else {\n        alert('„Ç≥„É°„É≥„Éà„ÅÆÊõ¥Êñ∞„Å´Â§±Êïó„Åó„Åæ„Åó„Åü„ÄÇ');\n      }\n    }\n  };\n\n  // Êú¨‰∫∫„ÅÆ„Ç≥„É°„É≥„Éà„Åã„Å©„ÅÜ„Åã„ÇíÁ¢∫Ë™ç\n  const isOwnComment = (comment) => {\n    return user.id && comment.userId === user.id;\n  };\n\n  const getTimeAgo = (dateString) => {\n    const now = new Date();\n    const past = new Date(dateString);\n    const diffInMinutes = Math.floor((now - past) / (1000 * 60));\n\n    if (diffInMinutes < 1) return '„Åü„Å£„Åü‰ªä';\n    if (diffInMinutes < 60) return `${diffInMinutes}ÂàÜÂâç`;\n    if (diffInMinutes < 1440) return `${Math.floor(diffInMinutes / 60)}ÊôÇÈñìÂâç`;\n    if (diffInMinutes < 10080) return `${Math.floor(diffInMinutes / 1440)}Êó•Ââç`;\n    return past.toLocaleDateString('ja-JP');\n  };\n\n  const topLevelComments = comments.filter(c => !c.parentId);\n  const getReplies = (parentId) => comments.filter(c => c.parentId === parentId);\n\n  if (loading) {\n    return <div className=\"comments-loading\">„Ç≥„É°„É≥„Éà„ÇíË™≠„ÅøËæº„Åø‰∏≠...</div>;\n  }\n\n  return (\n    <div className=\"comments-section\">\n      <div className=\"comments-header\">\n        <h3>„Ç≥„É°„É≥„Éà {comments.length}</h3>\n      </div>\n\n      <form className=\"comment-form\" onSubmit={handleSubmitComment}>\n        <textarea\n          value={newComment}\n          onChange={(e) => setNewComment(e.target.value)}\n          placeholder=\"„Ç≥„É°„É≥„Éà„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ...\"\n          rows=\"3\"\n        />\n        <button type=\"submit\" className=\"submit-comment-btn\">\n          „Ç≥„É°„É≥„Éà„ÇíÊäïÁ®ø\n        </button>\n      </form>\n\n      <div className=\"comments-list\">\n        {topLevelComments.length === 0 ? (\n          <div className=\"no-comments\">\n            ÊúÄÂàù„ÅÆ„Ç≥„É°„É≥„Éà„ÇíÊõ∏„ÅÑ„Å¶„Åø„Åæ„Åó„Çá„ÅÜÔºÅ\n          </div>\n        ) : (\n          topLevelComments.map(comment => (\n            <div key={comment.id} className=\"comment-item\">\n              <div className=\"comment-header\">\n                <span className=\"comment-author\">\n                  {isAnonymous ? comment.anonymousId || 'ÂåøÂêç' : (comment.authorNickname || 'Unknown User')}\n                </span>\n                <span className=\"comment-time\">{getTimeAgo(comment.createdAt)}</span>\n              </div>\n\n              {editingId === comment.id ? (\n                <div className=\"comment-edit-form\">\n                  <textarea\n                    value={editContent}\n                    onChange={(e) => setEditContent(e.target.value)}\n                    rows=\"3\"\n                  />\n                  <div className=\"edit-actions\">\n                    <button onClick={handleCancelEdit}>„Ç≠„É£„É≥„Çª„É´</button>\n                    <button onClick={() => handleSaveEdit(comment.id)}>‰øùÂ≠ò</button>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"comment-content\">\n                  {comment.content}\n                </div>\n              )}\n\n              <div className=\"comment-actions\">\n                <button\n                  className=\"comment-action-btn\"\n                  onClick={() => handleLikeComment(comment.id)}\n                >\n                  üëç {comment.likeCount || 0}\n                </button>\n                <button\n                  className=\"comment-action-btn\"\n                  onClick={() => setReplyTo(replyTo === comment.id ? null : comment.id)}\n                >\n                  üí¨ Ëøî‰ø°\n                </button>\n                {isOwnComment(comment) && !comment.isDeleted && (\n                  <>\n                    <button\n                      className=\"comment-action-btn edit\"\n                      onClick={() => handleStartEdit(comment)}\n                    >\n                      ‚úèÔ∏è Á∑®ÈõÜ\n                    </button>\n                    <button\n                      className=\"comment-action-btn delete\"\n                      onClick={() => handleDeleteComment(comment.id)}\n                    >\n                      üóëÔ∏è ÂâäÈô§\n                    </button>\n                  </>\n                )}\n              </div>\n\n              {replyTo === comment.id && (\n                <form\n                  className=\"reply-form\"\n                  onSubmit={(e) => handleSubmitReply(e, comment.id)}\n                >\n                  <textarea\n                    value={replyContent}\n                    onChange={(e) => setReplyContent(e.target.value)}\n                    placeholder=\"Ëøî‰ø°„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ...\"\n                    rows=\"2\"\n                  />\n                  <div className=\"reply-actions\">\n                    <button type=\"button\" onClick={() => setReplyTo(null)}>\n                      „Ç≠„É£„É≥„Çª„É´\n                    </button>\n                    <button type=\"submit\">Ëøî‰ø°„ÇíÊäïÁ®ø</button>\n                  </div>\n                </form>\n              )}\n\n              {getReplies(comment.id).map(reply => (\n                <div key={reply.id} className=\"comment-item reply\">\n                  <div className=\"comment-header\">\n                    <span className=\"comment-author\">\n                      {isAnonymous ? reply.anonymousId || 'ÂåøÂêç' : `„É¶„Éº„Ç∂„Éº${reply.userId}`}\n                    </span>\n                    <span className=\"comment-time\">{getTimeAgo(reply.createdAt)}</span>\n                  </div>\n\n                  {editingId === reply.id ? (\n                    <div className=\"comment-edit-form\">\n                      <textarea\n                        value={editContent}\n                        onChange={(e) => setEditContent(e.target.value)}\n                        rows=\"2\"\n                      />\n                      <div className=\"edit-actions\">\n                        <button onClick={handleCancelEdit}>„Ç≠„É£„É≥„Çª„É´</button>\n                        <button onClick={() => handleSaveEdit(reply.id)}>‰øùÂ≠ò</button>\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"comment-content\">\n                      {reply.content}\n                    </div>\n                  )}\n\n                  <div className=\"comment-actions\">\n                    <button\n                      className=\"comment-action-btn\"\n                      onClick={() => handleLikeComment(reply.id)}\n                    >\n                      üëç {reply.likeCount || 0}\n                    </button>\n                    {isOwnComment(reply) && !reply.isDeleted && (\n                      <>\n                        <button\n                          className=\"comment-action-btn edit\"\n                          onClick={() => handleStartEdit(reply)}\n                        >\n                          ‚úèÔ∏è Á∑®ÈõÜ\n                        </button>\n                        <button\n                          className=\"comment-action-btn delete\"\n                          onClick={() => handleDeleteComment(reply.id)}\n                        >\n                          üóëÔ∏è ÂâäÈô§\n                        </button>\n                      </>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default CommentSection;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE9B,SAASC,cAAcA,CAAC;EAAEC,MAAM;EAAEC,OAAO;EAAEC;AAAY,CAAC,EAAE;EAAAC,EAAA;EACxD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACc,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACgB,UAAU,EAAEC,aAAa,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACoB,YAAY,EAAEC,eAAe,CAAC,GAAGrB,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACsB,SAAS,EAAEC,YAAY,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACwB,WAAW,EAAEC,cAAc,CAAC,GAAGzB,QAAQ,CAAC,EAAE,CAAC;;EAElD;EACA,MAAM0B,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;EAE7D7B,SAAS,CAAC,MAAM;IACd8B,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,CAACvB,MAAM,CAAC,CAAC;EAEZ,MAAMuB,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChC,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAM9B,KAAK,CAAC+B,GAAG,CAAC,sBAAsBzB,MAAM,EAAE,CAAC;MAChEK,WAAW,CAACmB,QAAQ,CAACE,IAAI,CAAC;MAC1BnB,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,OAAOoB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,mBAAmB,EAAEA,KAAK,CAAC;MACzCtB,WAAW,CAAC,EAAE,CAAC;MACfE,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMsB,mBAAmB,GAAG,MAAOC,CAAC,IAAK;IACvCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI,CAACvB,UAAU,CAACwB,IAAI,CAAC,CAAC,EAAE;;IAExB;IACA,MAAMd,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;IAC7D,IAAI,CAACJ,IAAI,CAACe,EAAE,EAAE;MACZC,KAAK,CAAC,WAAW,CAAC;MAClB;IACF;IAEA,IAAI;MACF,MAAMC,WAAW,GAAG;QAClBnC,MAAM,EAAEoC,QAAQ,CAACpC,MAAM,CAAC;QACxBqC,MAAM,EAAEnB,IAAI,CAACe,EAAE;QACfK,OAAO,EAAE9B,UAAU;QACnB+B,WAAW,EAAErC,WAAW,GAAG,KAAKsC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,GAAG;MACvE,CAAC;MAED,MAAMhD,KAAK,CAACiD,IAAI,CAAC,eAAe,EAAER,WAAW,CAAC;MAC9C1B,aAAa,CAAC,EAAE,CAAC;MACjBc,aAAa,CAAC,CAAC;IACjB,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACvCO,KAAK,CAAC,iBAAiB,CAAC;IAC1B;EACF,CAAC;EAED,MAAMU,iBAAiB,GAAG,MAAAA,CAAOd,CAAC,EAAEe,QAAQ,KAAK;IAC/Cf,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI,CAACnB,YAAY,CAACoB,IAAI,CAAC,CAAC,EAAE;;IAE1B;IACA,MAAMd,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC;IAC7D,IAAI,CAACJ,IAAI,CAACe,EAAE,EAAE;MACZC,KAAK,CAAC,WAAW,CAAC;MAClB;IACF;IAEA,IAAI;MACF,MAAMY,SAAS,GAAG;QAChB9C,MAAM,EAAEoC,QAAQ,CAACpC,MAAM,CAAC;QACxBqC,MAAM,EAAEnB,IAAI,CAACe,EAAE;QACfY,QAAQ,EAAEA,QAAQ;QAClBP,OAAO,EAAE1B,YAAY;QACrB2B,WAAW,EAAErC,WAAW,GAAG,KAAKsC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,GAAG;MACvE,CAAC;MAED,MAAMhD,KAAK,CAACiD,IAAI,CAAC,eAAe,EAAEG,SAAS,CAAC;MAC5CjC,eAAe,CAAC,EAAE,CAAC;MACnBF,UAAU,CAAC,IAAI,CAAC;MAChBY,aAAa,CAAC,CAAC;IACjB,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;MACrCO,KAAK,CAAC,eAAe,CAAC;IACxB;EACF,CAAC;EAED,MAAMa,iBAAiB,GAAG,MAAOC,SAAS,IAAK;IAC7C,IAAI;MACF,MAAMtD,KAAK,CAACiD,IAAI,CAAC,iBAAiBK,SAAS,OAAO,CAAC;MACnDzB,aAAa,CAAC,CAAC;IACjB,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,aAAa,EAAEA,KAAK,CAAC;IACrC;EACF,CAAC;EAED,MAAMsB,mBAAmB,GAAG,MAAOD,SAAS,IAAK;IAC/C,IAAI,CAACE,MAAM,CAACC,OAAO,CAAC,cAAc,CAAC,EAAE;IAErC,IAAI,CAACjC,IAAI,CAACe,EAAE,EAAE;MACZC,KAAK,CAAC,WAAW,CAAC;MAClB;IACF;IAEA,IAAI;MACF,MAAMxC,KAAK,CAAC0D,MAAM,CAAC,iBAAiBJ,SAAS,WAAW9B,IAAI,CAACe,EAAE,EAAE,CAAC;MAClEV,aAAa,CAAC,CAAC;IACjB,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACvC,IAAIA,KAAK,CAACH,QAAQ,IAAIG,KAAK,CAACH,QAAQ,CAAC6B,MAAM,KAAK,GAAG,EAAE;QACnDnB,KAAK,CAAC,kBAAkB,CAAC;MAC3B,CAAC,MAAM;QACLA,KAAK,CAAC,iBAAiB,CAAC;MAC1B;IACF;EACF,CAAC;;EAED;EACA,MAAMoB,eAAe,GAAIC,OAAO,IAAK;IACnCxC,YAAY,CAACwC,OAAO,CAACtB,EAAE,CAAC;IACxBhB,cAAc,CAACsC,OAAO,CAACjB,OAAO,CAAC;EACjC,CAAC;;EAED;EACA,MAAMkB,gBAAgB,GAAGA,CAAA,KAAM;IAC7BzC,YAAY,CAAC,IAAI,CAAC;IAClBE,cAAc,CAAC,EAAE,CAAC;EACpB,CAAC;;EAED;EACA,MAAMwC,cAAc,GAAG,MAAOT,SAAS,IAAK;IAC1C,IAAI,CAAChC,WAAW,CAACgB,IAAI,CAAC,CAAC,EAAE;IAEzB,IAAI,CAACd,IAAI,CAACe,EAAE,EAAE;MACZC,KAAK,CAAC,WAAW,CAAC;MAClB;IACF;IAEA,IAAI;MACF,MAAMxC,KAAK,CAACgE,GAAG,CAAC,iBAAiBV,SAAS,WAAW9B,IAAI,CAACe,EAAE,EAAE,EAAE;QAC9DK,OAAO,EAAEtB;MACX,CAAC,CAAC;MACFD,YAAY,CAAC,IAAI,CAAC;MAClBE,cAAc,CAAC,EAAE,CAAC;MAClBM,aAAa,CAAC,CAAC;IACjB,CAAC,CAAC,OAAOI,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC;MACvC,IAAIA,KAAK,CAACH,QAAQ,IAAIG,KAAK,CAACH,QAAQ,CAAC6B,MAAM,KAAK,GAAG,EAAE;QACnDnB,KAAK,CAAC,kBAAkB,CAAC;MAC3B,CAAC,MAAM;QACLA,KAAK,CAAC,iBAAiB,CAAC;MAC1B;IACF;EACF,CAAC;;EAED;EACA,MAAMyB,YAAY,GAAIJ,OAAO,IAAK;IAChC,OAAOrC,IAAI,CAACe,EAAE,IAAIsB,OAAO,CAAClB,MAAM,KAAKnB,IAAI,CAACe,EAAE;EAC9C,CAAC;EAED,MAAM2B,UAAU,GAAIC,UAAU,IAAK;IACjC,MAAMC,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC;IACtB,MAAMC,IAAI,GAAG,IAAID,IAAI,CAACF,UAAU,CAAC;IACjC,MAAMI,aAAa,GAAGzB,IAAI,CAACC,KAAK,CAAC,CAACqB,GAAG,GAAGE,IAAI,KAAK,IAAI,GAAG,EAAE,CAAC,CAAC;IAE5D,IAAIC,aAAa,GAAG,CAAC,EAAE,OAAO,MAAM;IACpC,IAAIA,aAAa,GAAG,EAAE,EAAE,OAAO,GAAGA,aAAa,IAAI;IACnD,IAAIA,aAAa,GAAG,IAAI,EAAE,OAAO,GAAGzB,IAAI,CAACC,KAAK,CAACwB,aAAa,GAAG,EAAE,CAAC,KAAK;IACvE,IAAIA,aAAa,GAAG,KAAK,EAAE,OAAO,GAAGzB,IAAI,CAACC,KAAK,CAACwB,aAAa,GAAG,IAAI,CAAC,IAAI;IACzE,OAAOD,IAAI,CAACE,kBAAkB,CAAC,OAAO,CAAC;EACzC,CAAC;EAED,MAAMC,gBAAgB,GAAG/D,QAAQ,CAACgE,MAAM,CAACC,CAAC,IAAI,CAACA,CAAC,CAACxB,QAAQ,CAAC;EAC1D,MAAMyB,UAAU,GAAIzB,QAAQ,IAAKzC,QAAQ,CAACgE,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACxB,QAAQ,KAAKA,QAAQ,CAAC;EAE9E,IAAIvC,OAAO,EAAE;IACX,oBAAOV,OAAA;MAAK2E,SAAS,EAAC,kBAAkB;MAAAC,QAAA,EAAC;IAAa;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAC9D;EAEA,oBACEhF,OAAA;IAAK2E,SAAS,EAAC,kBAAkB;IAAAC,QAAA,gBAC/B5E,OAAA;MAAK2E,SAAS,EAAC,iBAAiB;MAAAC,QAAA,eAC9B5E,OAAA;QAAA4E,QAAA,GAAI,2BAAK,EAACpE,QAAQ,CAACyE,MAAM;MAAA;QAAAJ,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5B,CAAC,eAENhF,OAAA;MAAM2E,SAAS,EAAC,cAAc;MAACO,QAAQ,EAAEjD,mBAAoB;MAAA2C,QAAA,gBAC3D5E,OAAA;QACEmF,KAAK,EAAEvE,UAAW;QAClBwE,QAAQ,EAAGlD,CAAC,IAAKrB,aAAa,CAACqB,CAAC,CAACmD,MAAM,CAACF,KAAK,CAAE;QAC/CG,WAAW,EAAC,mFAAkB;QAC9BC,IAAI,EAAC;MAAG;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eACFhF,OAAA;QAAQwF,IAAI,EAAC,QAAQ;QAACb,SAAS,EAAC,oBAAoB;QAAAC,QAAA,EAAC;MAErD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC,eAEPhF,OAAA;MAAK2E,SAAS,EAAC,eAAe;MAAAC,QAAA,EAC3BL,gBAAgB,CAACU,MAAM,KAAK,CAAC,gBAC5BjF,OAAA;QAAK2E,SAAS,EAAC,aAAa;QAAAC,QAAA,EAAC;MAE7B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,GAENT,gBAAgB,CAACkB,GAAG,CAAC9B,OAAO,iBAC1B3D,OAAA;QAAsB2E,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC5C5E,OAAA;UAAK2E,SAAS,EAAC,gBAAgB;UAAAC,QAAA,gBAC7B5E,OAAA;YAAM2E,SAAS,EAAC,gBAAgB;YAAAC,QAAA,EAC7BtE,WAAW,GAAGqD,OAAO,CAAChB,WAAW,IAAI,IAAI,GAAIgB,OAAO,CAAC+B,cAAc,IAAI;UAAe;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnF,CAAC,eACPhF,OAAA;YAAM2E,SAAS,EAAC,cAAc;YAAAC,QAAA,EAAEZ,UAAU,CAACL,OAAO,CAACgC,SAAS;UAAC;YAAAd,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClE,CAAC,EAEL9D,SAAS,KAAKyC,OAAO,CAACtB,EAAE,gBACvBrC,OAAA;UAAK2E,SAAS,EAAC,mBAAmB;UAAAC,QAAA,gBAChC5E,OAAA;YACEmF,KAAK,EAAE/D,WAAY;YACnBgE,QAAQ,EAAGlD,CAAC,IAAKb,cAAc,CAACa,CAAC,CAACmD,MAAM,CAACF,KAAK,CAAE;YAChDI,IAAI,EAAC;UAAG;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC,eACFhF,OAAA;YAAK2E,SAAS,EAAC,cAAc;YAAAC,QAAA,gBAC3B5E,OAAA;cAAQ4F,OAAO,EAAEhC,gBAAiB;cAAAgB,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACjDhF,OAAA;cAAQ4F,OAAO,EAAEA,CAAA,KAAM/B,cAAc,CAACF,OAAO,CAACtB,EAAE,CAAE;cAAAuC,QAAA,EAAC;YAAE;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3D,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,gBAENhF,OAAA;UAAK2E,SAAS,EAAC,iBAAiB;UAAAC,QAAA,EAC7BjB,OAAO,CAACjB;QAAO;UAAAmC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACb,CACN,eAEDhF,OAAA;UAAK2E,SAAS,EAAC,iBAAiB;UAAAC,QAAA,gBAC9B5E,OAAA;YACE2E,SAAS,EAAC,oBAAoB;YAC9BiB,OAAO,EAAEA,CAAA,KAAMzC,iBAAiB,CAACQ,OAAO,CAACtB,EAAE,CAAE;YAAAuC,QAAA,GAC9C,eACI,EAACjB,OAAO,CAACkC,SAAS,IAAI,CAAC;UAAA;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpB,CAAC,eACThF,OAAA;YACE2E,SAAS,EAAC,oBAAoB;YAC9BiB,OAAO,EAAEA,CAAA,KAAM7E,UAAU,CAACD,OAAO,KAAK6C,OAAO,CAACtB,EAAE,GAAG,IAAI,GAAGsB,OAAO,CAACtB,EAAE,CAAE;YAAAuC,QAAA,EACvE;UAED;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,EACRjB,YAAY,CAACJ,OAAO,CAAC,IAAI,CAACA,OAAO,CAACmC,SAAS,iBAC1C9F,OAAA,CAAAE,SAAA;YAAA0E,QAAA,gBACE5E,OAAA;cACE2E,SAAS,EAAC,yBAAyB;cACnCiB,OAAO,EAAEA,CAAA,KAAMlC,eAAe,CAACC,OAAO,CAAE;cAAAiB,QAAA,EACzC;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACThF,OAAA;cACE2E,SAAS,EAAC,2BAA2B;cACrCiB,OAAO,EAAEA,CAAA,KAAMvC,mBAAmB,CAACM,OAAO,CAACtB,EAAE,CAAE;cAAAuC,QAAA,EAChD;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA,eACT,CACH;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC,EAELlE,OAAO,KAAK6C,OAAO,CAACtB,EAAE,iBACrBrC,OAAA;UACE2E,SAAS,EAAC,YAAY;UACtBO,QAAQ,EAAGhD,CAAC,IAAKc,iBAAiB,CAACd,CAAC,EAAEyB,OAAO,CAACtB,EAAE,CAAE;UAAAuC,QAAA,gBAElD5E,OAAA;YACEmF,KAAK,EAAEnE,YAAa;YACpBoE,QAAQ,EAAGlD,CAAC,IAAKjB,eAAe,CAACiB,CAAC,CAACmD,MAAM,CAACF,KAAK,CAAE;YACjDG,WAAW,EAAC,uEAAgB;YAC5BC,IAAI,EAAC;UAAG;YAAAV,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT,CAAC,eACFhF,OAAA;YAAK2E,SAAS,EAAC,eAAe;YAAAC,QAAA,gBAC5B5E,OAAA;cAAQwF,IAAI,EAAC,QAAQ;cAACI,OAAO,EAAEA,CAAA,KAAM7E,UAAU,CAAC,IAAI,CAAE;cAAA6D,QAAA,EAAC;YAEvD;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACThF,OAAA;cAAQwF,IAAI,EAAC,QAAQ;cAAAZ,QAAA,EAAC;YAAK;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF,CACP,EAEAN,UAAU,CAACf,OAAO,CAACtB,EAAE,CAAC,CAACoD,GAAG,CAACM,KAAK,iBAC/B/F,OAAA;UAAoB2E,SAAS,EAAC,oBAAoB;UAAAC,QAAA,gBAChD5E,OAAA;YAAK2E,SAAS,EAAC,gBAAgB;YAAAC,QAAA,gBAC7B5E,OAAA;cAAM2E,SAAS,EAAC,gBAAgB;cAAAC,QAAA,EAC7BtE,WAAW,GAAGyF,KAAK,CAACpD,WAAW,IAAI,IAAI,GAAG,OAAOoD,KAAK,CAACtD,MAAM;YAAE;cAAAoC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5D,CAAC,eACPhF,OAAA;cAAM2E,SAAS,EAAC,cAAc;cAAAC,QAAA,EAAEZ,UAAU,CAAC+B,KAAK,CAACJ,SAAS;YAAC;cAAAd,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAChE,CAAC,EAEL9D,SAAS,KAAK6E,KAAK,CAAC1D,EAAE,gBACrBrC,OAAA;YAAK2E,SAAS,EAAC,mBAAmB;YAAAC,QAAA,gBAChC5E,OAAA;cACEmF,KAAK,EAAE/D,WAAY;cACnBgE,QAAQ,EAAGlD,CAAC,IAAKb,cAAc,CAACa,CAAC,CAACmD,MAAM,CAACF,KAAK,CAAE;cAChDI,IAAI,EAAC;YAAG;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACT,CAAC,eACFhF,OAAA;cAAK2E,SAAS,EAAC,cAAc;cAAAC,QAAA,gBAC3B5E,OAAA;gBAAQ4F,OAAO,EAAEhC,gBAAiB;gBAAAgB,QAAA,EAAC;cAAK;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACjDhF,OAAA;gBAAQ4F,OAAO,EAAEA,CAAA,KAAM/B,cAAc,CAACkC,KAAK,CAAC1D,EAAE,CAAE;gBAAAuC,QAAA,EAAC;cAAE;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,gBAENhF,OAAA;YAAK2E,SAAS,EAAC,iBAAiB;YAAAC,QAAA,EAC7BmB,KAAK,CAACrD;UAAO;YAAAmC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACX,CACN,eAEDhF,OAAA;YAAK2E,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC9B5E,OAAA;cACE2E,SAAS,EAAC,oBAAoB;cAC9BiB,OAAO,EAAEA,CAAA,KAAMzC,iBAAiB,CAAC4C,KAAK,CAAC1D,EAAE,CAAE;cAAAuC,QAAA,GAC5C,eACI,EAACmB,KAAK,CAACF,SAAS,IAAI,CAAC;YAAA;cAAAhB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClB,CAAC,EACRjB,YAAY,CAACgC,KAAK,CAAC,IAAI,CAACA,KAAK,CAACD,SAAS,iBACtC9F,OAAA,CAAAE,SAAA;cAAA0E,QAAA,gBACE5E,OAAA;gBACE2E,SAAS,EAAC,yBAAyB;gBACnCiB,OAAO,EAAEA,CAAA,KAAMlC,eAAe,CAACqC,KAAK,CAAE;gBAAAnB,QAAA,EACvC;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACThF,OAAA;gBACE2E,SAAS,EAAC,2BAA2B;gBACrCiB,OAAO,EAAEA,CAAA,KAAMvC,mBAAmB,CAAC0C,KAAK,CAAC1D,EAAE,CAAE;gBAAAuC,QAAA,EAC9C;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA,eACT,CACH;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC;QAAA,GAjDEe,KAAK,CAAC1D,EAAE;UAAAwC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAkDb,CACN,CAAC;MAAA,GAjIMrB,OAAO,CAACtB,EAAE;QAAAwC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAkIf,CACN;IACF;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACzE,EAAA,CAnVQJ,cAAc;AAAA6F,EAAA,GAAd7F,cAAc;AAqVvB,eAAeA,cAAc;AAAC,IAAA6F,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}